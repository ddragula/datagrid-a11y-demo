!/**
 * Highcharts Dashboards v3.2.0-blindit1 (2024-12-09)
 *
 * (c) 2009-2024 Highsoft AS
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof module&&module.exports?(e.default=e,module.exports=t&&t.document?e(t):e):"function"==typeof define&&define.amd?define("datagrid/datagrid",function(){return e(t)}):(t.DataGrid&&t.DataGrid.error(16,!0),t.DataGrid=e(t))}("undefined"!=typeof window?window:this,function(t){"use strict";var e={};function i(e,i,s,o){!e.hasOwnProperty(i)&&(e[i]=o.apply(null,s),t&&"function"==typeof CustomEvent&&t.dispatchEvent(new CustomEvent("DataGridModuleLoaded",{detail:{path:i,module:e[i]}})))}return i(e,"Core/Globals.js",[],function(){var e,i;return(i=e||(e={})).SVG_NS="http://www.w3.org/2000/svg",i.product="Highcharts",i.version="3.2.0-blindit1",i.win=void 0!==t?t:{},i.doc=i.win.document,i.svg=i.doc&&i.doc.createElementNS&&!!i.doc.createElementNS(i.SVG_NS,"svg").createSVGRect,i.userAgent=i.win.navigator&&i.win.navigator.userAgent||"",i.isChrome=i.win.chrome,i.isFirefox=-1!==i.userAgent.indexOf("Firefox"),i.isMS=/(edge|msie|trident)/i.test(i.userAgent)&&!i.win.opera,i.isSafari=!i.isChrome&&-1!==i.userAgent.indexOf("Safari"),i.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(i.userAgent),i.isWebKit=-1!==i.userAgent.indexOf("AppleWebKit"),i.deg2rad=2*Math.PI/360,i.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],i.noop=function(){},i.supportsPassiveEvents=function(){let t=!1;if(!i.isMS){let e=Object.defineProperty({},"passive",{get:function(){t=!0}});i.win.addEventListener&&i.win.removeEventListener&&(i.win.addEventListener("testPassive",i.noop,e),i.win.removeEventListener("testPassive",i.noop,e))}return t}(),i.charts=[],i.composed=[],i.dateFormats={},i.seriesTypes={},i.symbolSizes={},i.chartCount=0,e}),i(e,"Core/Utilities.js",[e["Core/Globals.js"]],function(t){let e;let{charts:i,doc:s,win:o}=t;function n(e,i,s,r){let l=i?"Highcharts error":"Highcharts warning";32===e&&(e=`${l}: Deprecated member`);let a=c(e),d=a?`${l} #${e}: www.highcharts.com/errors/${e}/`:e.toString();if(void 0!==r){let t="";a&&(d+="?"),T(r,function(e,i){t+=`
 - ${i}: ${e}`,a&&(d+=encodeURI(i)+"="+encodeURI(e))}),d+=t}D(t,"displayError",{chart:s,code:e,message:d,params:r},function(){if(i)throw Error(d);o.console&&-1===n.messages.indexOf(d)&&console.warn(d)}),n.messages.push(d)}function r(t,e){return parseInt(t,e||10)}function l(t){return"string"==typeof t}function a(t){let e=Object.prototype.toString.call(t);return"[object Array]"===e||"[object Array Iterator]"===e}function d(t,e){return!!t&&"object"==typeof t&&(!e||!a(t))}function h(t){return d(t)&&"number"==typeof t.nodeType}function u(t){let e=t&&t.constructor;return!!(d(t,!0)&&!h(t)&&e&&e.name&&"Object"!==e.name)}function c(t){return"number"==typeof t&&!isNaN(t)&&t<1/0&&t>-1/0}function m(t){return null!=t}function f(t,e,i){let s;let o=l(e)&&!m(i),n=(e,i)=>{m(e)?t.setAttribute(i,e):o?(s=t.getAttribute(i))||"class"!==i||(s=t.getAttribute(i+"Name")):t.removeAttribute(i)};return l(e)?n(i,e):T(e,n),s}function p(t){return a(t)?t:[t]}function g(t,e){let i;for(i in t||(t={}),e)t[i]=e[i];return t}function w(){let t=arguments,e=t.length;for(let i=0;i<e;i++){let e=t[i];if(null!=e)return e}}function b(t,e){g(t.style,e)}function y(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function C(t,e){return t>1e14?t:parseFloat(t.toPrecision(e||14))}(n||(n={})).messages=[],Math.easeInOutSine=function(t){return -.5*(Math.cos(Math.PI*t)-1)};let v=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){let i;let s=t.length;for(i=0;i<s;i++)if(e(t[i],i))return t[i]};function T(t,e,i){for(let s in t)Object.hasOwnProperty.call(t,s)&&e.call(i||t[s],t[s],s,t)}function E(t,e,i){function s(e,i){let s=t.removeEventListener;s&&s.call(t,e,i,!1)}function o(i){let o,n;t.nodeName&&(e?(o={})[e]=!0:o=i,T(o,function(t,e){if(i[e])for(n=i[e].length;n--;)s(e,i[e][n].fn)}))}let n="function"==typeof t&&t.prototype||t;if(Object.hasOwnProperty.call(n,"hcEvents")){let t=n.hcEvents;if(e){let n=t[e]||[];i?(t[e]=n.filter(function(t){return i!==t.fn}),s(e,i)):(o(t),t[e]=[])}else o(t),delete n.hcEvents}}function D(e,i,o,n){if(o=o||{},s.createEvent&&(e.dispatchEvent||e.fireEvent&&e!==t)){let t=s.createEvent("Events");t.initEvent(i,!0,!0),o=g(t,o),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent(i,o)}else if(e.hcEvents){o.target||g(o,{preventDefault:function(){o.defaultPrevented=!0},target:e,type:i});let t=[],s=e,n=!1;for(;s.hcEvents;)Object.hasOwnProperty.call(s,"hcEvents")&&s.hcEvents[i]&&(t.length&&(n=!0),t.unshift.apply(t,s.hcEvents[i])),s=Object.getPrototypeOf(s);n&&t.sort((t,e)=>t.order-e.order),t.forEach(t=>{!1===t.fn.call(e,o)&&o.preventDefault()})}n&&!o.defaultPrevented&&n.call(e,o)}let x=function(){let t=Math.random().toString(36).substring(2,9)+"-",i=0;return function(){return"highcharts-"+(e?"":t)+i++}}();return o.jQuery&&(o.jQuery.fn.highcharts=function(){let e=[].slice.call(arguments);if(this[0])return e[0]?(new t[l(e[0])?e.shift():"Chart"](this[0],e[0],e[1]),this):i[f(this[0],"data-highcharts-chart")]}),{addEvent:function(e,i,s,o={}){let n="function"==typeof e&&e.prototype||e;Object.hasOwnProperty.call(n,"hcEvents")||(n.hcEvents={});let r=n.hcEvents;t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);let l=e.addEventListener;l&&l.call(e,i,s,!!t.supportsPassiveEvents&&{passive:void 0===o.passive?-1!==i.indexOf("touch"):o.passive,capture:!1}),r[i]||(r[i]=[]);let a={fn:s,order:"number"==typeof o.order?o.order:1/0};return r[i].push(a),r[i].sort((t,e)=>t.order-e.order),function(){E(e,i,s)}},arrayMax:function(t){let e=t.length,i=t[0];for(;e--;)t[e]>i&&(i=t[e]);return i},arrayMin:function(t){let e=t.length,i=t[0];for(;e--;)t[e]<i&&(i=t[e]);return i},attr:f,clamp:function(t,e,i){return t>e?t<i?t:i:e},clearTimeout:function(t){m(t)&&clearTimeout(t)},correctFloat:C,createElement:function(t,e,i,o,n){let r=s.createElement(t);return e&&g(r,e),n&&b(r,{padding:"0",border:"none",margin:"0"}),i&&b(r,i),o&&o.appendChild(r),r},crisp:function(t,e=0,i){let s=e%2/2,o=i?-1:1;return(Math.round(t*o-s)+s)*o},css:b,defined:m,destroyObjectProperties:function(t,e,i){T(t,function(s,o){s!==e&&s?.destroy&&s.destroy(),(s?.destroy||!i)&&delete t[o]})},diffObjects:function(t,e,i,s){let o={};return function t(e,o,n,r){let l=i?o:e;T(e,function(i,h){if(!r&&s&&s.indexOf(h)>-1&&o[h]){i=p(i),n[h]=[];for(let e=0;e<Math.max(i.length,o[h].length);e++)o[h][e]&&(void 0===i[e]?n[h][e]=o[h][e]:(n[h][e]={},t(i[e],o[h][e],n[h][e],r+1)))}else d(i,!0)&&!i.nodeType?(n[h]=a(i)?[]:{},t(i,o[h]||{},n[h],r+1),0!==Object.keys(n[h]).length||"colorAxis"===h&&0===r||delete n[h]):(e[h]!==o[h]||h in e&&!(h in o))&&"__proto__"!==h&&"constructor"!==h&&(n[h]=l[h])})}(t,e,o,0),o},discardElement:function(t){t&&t.parentElement&&t.parentElement.removeChild(t)},erase:function(t,e){let i=t.length;for(;i--;)if(t[i]===e){t.splice(i,1);break}},error:n,extend:g,extendClass:function(t,e){let i=function(){};return i.prototype=new t,g(i.prototype,e),i},find:v,fireEvent:D,getAlignFactor:(t="")=>({center:.5,right:1,middle:.5,bottom:1})[t]||0,getClosestDistance:function(t,e){let i,s,o,n;let r=!e;return t.forEach(t=>{if(t.length>1)for(n=s=t.length-1;n>0;n--)(o=t[n]-t[n-1])<0&&!r?(e?.(),e=void 0):o&&(void 0===i||o<i)&&(i=o)}),i},getMagnitude:y,getNestedProperty:function(t,e){let i=t.split(".");for(;i.length&&m(e);){let t=i.shift();if(void 0===t||"__proto__"===t)return;if("this"===t){let t;return d(e)&&(t=e["@this"]),t??e}let s=e[t];if(!m(s)||"function"==typeof s||"number"==typeof s.nodeType||s===o)return;e=s}return e},getStyle:function t(e,i,s){let n;if("width"===i){let i=Math.min(e.offsetWidth,e.scrollWidth),s=e.getBoundingClientRect&&e.getBoundingClientRect().width;return s<i&&s>=i-1&&(i=Math.floor(s)),Math.max(0,i-(t(e,"padding-left",!0)||0)-(t(e,"padding-right",!0)||0))}if("height"===i)return Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-(t(e,"padding-top",!0)||0)-(t(e,"padding-bottom",!0)||0));let l=o.getComputedStyle(e,void 0);return l&&(n=l.getPropertyValue(i),w(s,"opacity"!==i)&&(n=r(n))),n},insertItem:function(t,e){let i;let s=t.options.index,o=e.length;for(i=t.options.isInternal?o:0;i<o+1;i++)if(!e[i]||c(s)&&s<w(e[i].options.index,e[i]._i)||e[i].options.isInternal){e.splice(i,0,t);break}return i},isArray:a,isClass:u,isDOMElement:h,isFunction:function(t){return"function"==typeof t},isNumber:c,isObject:d,isString:l,merge:function(t,...e){let i,s=[t,...e],o={},n=function(t,e){return"object"!=typeof t&&(t={}),T(e,function(i,s){"__proto__"!==s&&"constructor"!==s&&(!d(i,!0)||u(i)||h(i)?t[s]=e[s]:t[s]=n(t[s]||{},i))}),t};!0===t&&(o=s[1],s=Array.prototype.slice.call(s,2));let r=s.length;for(i=0;i<r;i++)o=n(o,s[i]);return o},normalizeTickInterval:function(t,e,i,s,o){let n,r=t;i=w(i,y(t));let l=t/i;for(!e&&(e=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===s&&(1===i?e=e.filter(function(t){return t%1==0}):i<=.1&&(e=[1/i]))),n=0;n<e.length&&(r=e[n],(!o||!(r*i>=t))&&(o||!(l<=(e[n]+(e[n+1]||e[n]))/2)));n++);return C(r*i,-Math.round(Math.log(.001)/Math.LN10))},objectEach:T,offset:function(t){let e=s.documentElement,i=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:i.top+(o.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(o.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:i.width,height:i.height}},pad:function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||"0")+t},pick:w,pInt:r,pushUnique:function(t,e){return 0>t.indexOf(e)&&!!t.push(e)},relativeLength:function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},removeEvent:E,replaceNested:function(t,...e){let i,s;do for(s of(i=t,e))t=t.replace(s[0],s[1]);while(t!==i);return t},splat:p,stableSort:function(t,e){let i,s;let o=t.length;for(s=0;s<o;s++)t[s].safeI=s;for(t.sort(function(t,s){return 0===(i=e(t,s))?t.safeI-s.safeI:i}),s=0;s<o;s++)delete t[s].safeI},syncTimeout:function(t,e,i){return e>0?setTimeout(t,e,i):(t.call(0,i),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(t){return l(t)?t.substring(0,1).toUpperCase()+t.substring(1):String(t)},uniqueKey:x,useSerialIds:function(t){return e=w(t,e)},wrap:function(t,e,i){let s=t[e];t[e]=function(){let t=arguments,e=this;return i.apply(this,[function(){return s.apply(e,arguments.length?arguments:t)}].concat([].slice.call(arguments)))}}}}),i(e,"Core/Renderer/HTML/AST.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e){let{SVG_NS:i,win:s}=t,{attr:o,createElement:n,css:r,error:l,isFunction:a,isString:d,objectEach:h,splat:u}=e,{trustedTypes:c}=s,m=c&&a(c.createPolicy)&&c.createPolicy("highcharts",{createHTML:t=>t}),f=m?m.createHTML(""):"";class p{static filterUserAttributes(t){return h(t,(e,i)=>{let s=!0;-1===p.allowedAttributes.indexOf(i)&&(s=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(i)&&(s=d(e)&&p.allowedReferences.some(t=>0===e.indexOf(t))),s||(l(33,!1,void 0,{"Invalid attribute in config":`${i}`}),delete t[i]),d(e)&&t[i]&&(t[i]=e.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((t,e)=>{let i=e.split(":").map(t=>t.trim()),s=i.shift();return s&&i.length&&(t[s.replace(/-([a-z])/g,t=>t[1].toUpperCase())]=i.join(":")),t},{})}static setElementHTML(t,e){t.innerHTML=p.emptyHTML,e&&new p(e).addToDOM(t)}constructor(t){this.nodes="string"==typeof t?this.parseMarkup(t):t}addToDOM(e){return function e(s,n){let a;return u(s).forEach(function(s){let d;let u=s.tagName,c=s.textContent?t.doc.createTextNode(s.textContent):void 0,m=p.bypassHTMLFiltering;if(u){if("#text"===u)d=c;else if(-1!==p.allowedTags.indexOf(u)||m){let l="svg"===u?i:n.namespaceURI||i,a=t.doc.createElementNS(l,u),f=s.attributes||{};h(s,function(t,e){"tagName"!==e&&"attributes"!==e&&"children"!==e&&"style"!==e&&"textContent"!==e&&(f[e]=t)}),o(a,m?f:p.filterUserAttributes(f)),s.style&&r(a,s.style),c&&a.appendChild(c),e(s.children||[],a),d=a}else l(33,!1,void 0,{"Invalid tagName in config":u})}d&&n.appendChild(d),a=d}),a}(this.nodes,e)}parseMarkup(t){let e;let i=[];t=t.trim().replace(/ style=(["'])/g," data-style=$1");try{e=new DOMParser().parseFromString(m?m.createHTML(t):t,"text/html")}catch(t){}if(!e){let i=n("div");i.innerHTML=t,e={body:i}}let s=(t,e)=>{let i=t.nodeName.toLowerCase(),o={tagName:i};"#text"===i&&(o.textContent=t.textContent||"");let n=t.attributes;if(n){let t={};[].forEach.call(n,e=>{"data-style"===e.name?o.style=p.parseStyle(e.value):t[e.name]=e.value}),o.attributes=t}if(t.childNodes.length){let e=[];[].forEach.call(t.childNodes,t=>{s(t,e)}),e.length&&(o.children=e)}e.push(o)};return[].forEach.call(e.body.childNodes,t=>s(t,i)),i}}return p.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],p.allowedReferences=["https://","http://","mailto:","/","../","./","#"],p.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],p.emptyHTML=f,p.bypassHTMLFiltering=!1,p}),i(e,"Data/Modifiers/DataModifier.js",[e["Core/Utilities.js"]],function(e){var i;let{addEvent:s,fireEvent:o,merge:n}=e;class r{benchmark(e,i){let s=[],o=this,r=()=>{o.modifyTable(e),o.emit({type:"afterBenchmarkIteration"})},{iterations:l}=n({iterations:1},i);o.on("afterBenchmarkIteration",()=>{if(s.length===l){o.emit({type:"afterBenchmark",results:s});return}r()});let a={startTime:0,endTime:0};return o.on("modify",()=>{a.startTime=t.performance.now()}),o.on("afterModify",()=>{a.endTime=t.performance.now(),s.push(a.endTime-a.startTime)}),r(),s}emit(t){o(this,t.type,t)}modify(t,e){let i=this;return new Promise((s,o)=>{t.modified===t&&(t.modified=t.clone(!1,e));try{s(i.modifyTable(t,e))}catch(s){i.emit({type:"error",detail:e,table:t}),o(s)}})}modifyCell(t,e,i,s,o){return this.modifyTable(t)}modifyColumns(t,e,i,s){return this.modifyTable(t)}modifyRows(t,e,i,s){return this.modifyTable(t)}on(t,e){return s(this,t,e)}}return(i=r||(r={})).types={},i.registerType=function(t,e){return!!t&&!i.types[t]&&!!(i.types[t]=e)},r}),i(e,"Data/DataTableCore.js",[e["Core/Utilities.js"]],function(t){let{fireEvent:e,isArray:i,objectEach:s,uniqueKey:o}=t;return class{constructor(t={}){this.autoId=!t.id,this.columns={},this.id=t.id||o(),this.modified=this,this.rowCount=0,this.versionTag=o();let e=0;s(t.columns||{},(t,i)=>{this.columns[i]=t.slice(),e=Math.max(e,t.length)}),this.applyRowCount(e)}applyRowCount(t){this.rowCount=t,s(this.columns,e=>{i(e)&&(e.length=t)})}getColumn(t,e){return this.columns[t]}getColumns(t,e){return(t||Object.keys(this.columns)).reduce((t,e)=>(t[e]=this.columns[e],t),{})}getRow(t,e){return(e||Object.keys(this.columns)).map(e=>this.columns[e]?.[t])}setColumn(t,e=[],i=0,s){this.setColumns({[t]:e},i,s)}setColumns(t,i,n){let r=this.rowCount;s(t,(t,e)=>{this.columns[e]=t.slice(),r=t.length}),this.applyRowCount(r),n?.silent||(e(this,"afterSetColumns"),this.versionTag=o())}setRow(t,i=this.rowCount,n,r){let{columns:l}=this,a=n?this.rowCount+1:i+1;s(t,(t,e)=>{let s=l[e]||r?.addColumns!==!1&&Array(a);s&&(n?s.splice(i,0,t):s[i]=t,l[e]=s)}),a>this.rowCount&&this.applyRowCount(a),r?.silent||(e(this,"afterSetRows"),this.versionTag=o())}}}),i(e,"Data/DataTable.js",[e["Data/DataTableCore.js"],e["Core/Utilities.js"]],function(t,e){let{addEvent:i,defined:s,fireEvent:o,extend:n,uniqueKey:r}=e;class l extends t{static isNull(t){if(t===l.NULL)return!0;if(t instanceof Array){if(!t.length)return!1;for(let e=0,i=t.length;e<i;++e)if(null!==t[e])return!1}else{let e=Object.keys(t);if(!e.length)return!1;for(let i=0,s=e.length;i<s;++i)if(null!==t[e[i]])return!1}return!0}constructor(t={}){super(t),this.modified=this}clone(t,e){let i={};this.emit({type:"cloneTable",detail:e}),t||(i.columns=this.columns),this.autoId||(i.id=this.id);let s=new l(i);return t||(s.versionTag=this.versionTag,s.originalRowIndexes=this.originalRowIndexes,s.localRowIndexes=this.localRowIndexes),this.emit({type:"afterCloneTable",detail:e,tableClone:s}),s}deleteColumns(t,e){let i=this.columns,s={},o={},n=this.modifier,r=this.rowCount;if((t=t||Object.keys(i)).length){this.emit({type:"deleteColumns",columnNames:t,detail:e});for(let e=0,n=t.length,l,a;e<n;++e)(l=i[a=t[e]])&&(s[a]=l,o[a]=Array(r)),delete i[a];return Object.keys(i).length||(this.rowCount=0,this.deleteRowIndexReferences()),n&&n.modifyColumns(this,o,0,e),this.emit({type:"afterDeleteColumns",columns:s,columnNames:t,detail:e}),s}}deleteRowIndexReferences(){delete this.originalRowIndexes,delete this.localRowIndexes}deleteRows(t,e=1,i){let s=[],o=[],n=this.modifier;if(this.emit({type:"deleteRows",detail:i,rowCount:e,rowIndex:t||0}),void 0===t&&(t=0,e=this.rowCount),e>0&&t<this.rowCount){let i=this.columns,n=Object.keys(i);for(let r=0,l=n.length,a,d;r<l;++r){d=(a=i[n[r]]).splice(t,e),r||(this.rowCount=a.length);for(let t=0,e=d.length;t<e;++t)s[t]=s[t]||[],s[t][r]=d[t];o.push(Array(l))}}return n&&n.modifyRows(this,o,t||0,i),this.emit({type:"afterDeleteRows",detail:i,rowCount:e,rowIndex:t||0,rows:s}),s}emit(t){["afterDeleteColumns","afterDeleteRows","afterSetCell","afterSetColumns","afterSetRows"].includes(t.type)&&(this.versionTag=r()),o(this,t.type,t)}getCell(t,e){let i=this.columns[t];if(i)return i[e]}getCellAsBoolean(t,e){let i=this.columns[t];return!!(i&&i[e])}getCellAsNumber(t,e,i){let s=this.columns[t],o=s&&s[e];switch(typeof o){case"boolean":return o?1:0;case"number":return isNaN(o)&&!i?null:o}return isNaN(o=parseFloat(`${o??""}`))&&!i?null:o}getCellAsString(t,e){let i=this.columns[t];return`${i&&i[e]}`}getColumn(t,e){return this.getColumns([t],e)[t]}getColumnAsNumbers(t,e){let i=this.columns[t],s=[];if(i){let o=i.length;if(e)for(let e=0;e<o;++e)s.push(this.getCellAsNumber(t,e,!0));else{for(let t=0,e;t<o;++t){if("number"==typeof(e=i[t]))return i.slice();if(null!=e)break}for(let e=0;e<o;++e)s.push(this.getCellAsNumber(t,e))}}return s}getColumnNames(){return Object.keys(this.columns)}getColumns(t,e){let i=this.columns,s={};t=t||Object.keys(i);for(let o=0,n=t.length,r,l;o<n;++o)(r=i[l=t[o]])&&(s[l]=e?r:r.slice());return s}getLocalRowIndex(t){let{localRowIndexes:e}=this;return e?e[t]:t}getModifier(){return this.modifier}getOriginalRowIndex(t){let{originalRowIndexes:e}=this;return e?e[t]:t}getRow(t,e){return this.getRows(t,1,e)[0]}getRowCount(){return this.rowCount}getRowIndexBy(t,e,i){let s=this.columns[t];if(s){let t=s.indexOf(e,i);if(-1!==t)return t}}getRowObject(t,e){return this.getRowObjects(t,1,e)[0]}getRowObjects(t=0,e=this.rowCount-t,i){let s=this.columns,o=Array(e);i=i||Object.keys(s);for(let n=t,r=0,l=Math.min(this.rowCount,t+e),a,d;n<l;++n,++r)for(let t of(d=o[r]={},i))a=s[t],d[t]=a?a[n]:void 0;return o}getRows(t=0,e=this.rowCount-t,i){let s=this.columns,o=Array(e);i=i||Object.keys(s);for(let n=t,r=0,l=Math.min(this.rowCount,t+e),a,d;n<l;++n,++r)for(let t of(d=o[r]=[],i))a=s[t],d.push(a?a[n]:void 0);return o}getVersionTag(){return this.versionTag}hasColumns(t){let e=this.columns;for(let i=0,s=t.length;i<s;++i)if(!e[t[i]])return!1;return!0}hasRowWith(t,e){let i=this.columns[t];return!!i&&-1!==i.indexOf(e)}on(t,e){return i(this,t,e)}renameColumn(t,e){let i=this.columns;return!!i[t]&&(t!==e&&(i[e]=i[t],delete i[t]),!0)}setCell(t,e,i,s){let o=this.columns,n=this.modifier,r=o[t];r&&r[e]===i||(this.emit({type:"setCell",cellValue:i,columnName:t,detail:s,rowIndex:e}),r||(r=o[t]=Array(this.rowCount)),e>=this.rowCount&&(this.rowCount=e+1),r[e]=i,n&&n.modifyCell(this,t,e,i),this.emit({type:"afterSetCell",cellValue:i,columnName:t,detail:s,rowIndex:e}))}setColumns(t,e,i){let s=this.columns,o=this.modifier,r=Object.keys(t),l=this.rowCount;if(this.emit({type:"setColumns",columns:t,columnNames:r,detail:i,rowIndex:e}),void 0===e)super.setColumns(t,e,n(i,{silent:!0}));else{for(let i=0,o=r.length,n,a;i<o;++i){n=t[a=r[i]];let o=s[a]?s[a]:s[a]=Array(this.rowCount);for(let t=e||0,i=n.length;t<i;++t)o[t]=n[t];l=Math.max(l,o.length)}this.applyRowCount(l)}o&&o.modifyColumns(this,t,e||0),this.emit({type:"afterSetColumns",columns:t,columnNames:r,detail:i,rowIndex:e})}setModifier(t,e){let i=this;return i.emit({type:"setModifier",detail:e,modifier:t,modified:i.modified}),i.modified=i,i.modifier=t,(t?t.modify(i):Promise.resolve(i)).then(i=>(i.emit({type:"afterSetModifier",detail:e,modifier:t,modified:i.modified}),i)).catch(e=>{throw i.emit({type:"setModifierError",error:e,modifier:t,modified:i.modified}),e})}setOriginalRowIndexes(t,e=!1){if(this.originalRowIndexes=t,e)return;let i=this.localRowIndexes=[];for(let e=0,o=t.length,n;e<o;++e)s(n=t[e])&&(i[n]=e)}setRow(t,e,i,s){this.setRows([t],e,i,s)}setRows(t,e=this.rowCount,i,s){let o=this.columns,n=Object.keys(o),r=this.modifier,a=t.length;this.emit({type:"setRows",detail:s,rowCount:a,rowIndex:e,rows:t});for(let s=0,r=e,d;s<a;++s,++r)if((d=t[s])===l.NULL)for(let t=0,e=n.length;t<e;++t)i?o[n[t]].splice(r,0,null):o[n[t]][r]=null;else if(d instanceof Array)for(let t=0,e=n.length;t<e;++t)o[n[t]][r]=d[t];else super.setRow(d,r,void 0,{silent:!0});let d=i?a+t.length:e+a;if(d>this.rowCount){this.rowCount=d;for(let t=0,e=n.length;t<e;++t)o[n[t]].length=d}r&&r.modifyRows(this,t,e),this.emit({type:"afterSetRows",detail:s,rowCount:a,rowIndex:e,rows:t})}}return l.NULL={},l.version="1.0.0",l}),i(e,"Data/Connectors/DataConnector.js",[e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],function(e,i,s){var o;let{addEvent:n,fireEvent:r,merge:l,pick:a}=s;class d{constructor(t={}){this.table=new i(t.dataTable),this.metadata=t.metadata||{columns:{}}}get polling(){return!!this.polling}describeColumn(t,e){let i=this.metadata.columns;i[t]=l(i[t]||{},e)}describeColumns(t){let e;let i=Object.keys(t);for(;"string"==typeof(e=i.pop());)this.describeColumn(e,t[e])}emit(t){r(this,t.type,t)}getColumnOrder(t){let e=this.metadata.columns,i=Object.keys(e||{});if(i.length)return i.sort((t,i)=>a(e[t].index,0)-a(e[i].index,0))}getSortedColumns(t){return this.table.getColumns(this.getColumnOrder(t))}load(){return r(this,"afterLoad",{table:this.table}),Promise.resolve(this)}on(t,e){return n(this,t,e)}save(){return r(this,"saveError",{table:this.table}),Promise.reject(Error("Not implemented"))}setColumnOrder(t){for(let e=0,i=t.length;e<i;++e)this.describeColumn(t[e],{index:e})}setModifierOptions(t){let i=t&&e.types[t.type];return this.table.setModifier(i?new i(t):void 0).then(()=>this)}startPolling(e=1e3){let i=this;t.clearTimeout(i._polling),i._polling=t.setTimeout(()=>i.load().catch(t=>i.emit({type:"loadError",error:t,table:i.table})).then(()=>{i._polling&&i.startPolling(e)}),e)}stopPolling(){t.clearTimeout(this._polling),delete this._polling}whatIs(t){return this.metadata.columns[t]}}return(o=d||(d={})).types={},o.registerType=function(t,e){return!!t&&!o.types[t]&&!!(o.types[t]=e)},d}),i(e,"Data/Converters/DataConverter.js",[e["Data/DataTable.js"],e["Core/Utilities.js"]],function(t,e){let{addEvent:i,fireEvent:s,isNumber:o,merge:n}=e;class r{constructor(t){this.dateFormats={"YYYY/mm/dd":{regex:/^(\d{4})([\-\.\/])(\d{1,2})\2(\d{1,2})$/,parser:function(t){return t?Date.UTC(+t[1],t[3]-1,+t[4]):NaN}},"dd/mm/YYYY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{4})$/,parser:function(t){return t?Date.UTC(+t[4],t[3]-1,+t[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{4})$/,parser:function(t){return t?Date.UTC(+t[4],t[1]-1,+t[3]):NaN}},"dd/mm/YY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{2})$/,parser:function(t){let e=new Date;if(!t)return NaN;let i=+t[4];return i>e.getFullYear()-2e3?i+=1900:i+=2e3,Date.UTC(i,t[3]-1,+t[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^(\d{1,2})([\-\.\/])(\d{1,2})\2(\d{2})$/,parser:function(t){return t?Date.UTC(+t[4]+2e3,t[1]-1,+t[3]):NaN}}};let e=n(r.defaultOptions,t),i=e.decimalPoint;("."===i||","===i)&&(i="."===i?"\\.":",",this.decimalRegExp=RegExp("^(-?[0-9]+)"+i+"([0-9]+)$")),this.options=e}asBoolean(t){return"boolean"==typeof t?t:"string"==typeof t?""!==t&&"0"!==t&&"false"!==t:!!this.asNumber(t)}asDate(t){let e;if("string"==typeof t)e=this.parseDate(t);else if("number"==typeof t)e=t;else{if(t instanceof Date)return t;e=this.parseDate(this.asString(t))}return new Date(e)}asGuessedType(t){return({number:this.asNumber,Date:this.asDate,string:this.asString})[this.guessType(t)].call(this,t)}asNumber(t){if("number"==typeof t)return t;if("boolean"==typeof t)return t?1:0;if("string"==typeof t){let e=this.decimalRegExp;if(t.indexOf(" ")>-1&&(t=t.replace(/\s+/g,"")),e){if(!e.test(t))return NaN;t=t.replace(e,"$1.$2")}return parseFloat(t)}return t instanceof Date?t.getDate():t?t.getRowCount():NaN}asString(t){return""+t}deduceDateFormat(t,e,i){let s=[],o=[],n="YYYY/mm/dd",r,l=[],a=0,d=!1,h,u;for((!e||e>t.length)&&(e=t.length);a<e;a++)if(void 0!==t[a]&&t[a]&&t[a].length)for(u=0,r=t[a].trim().replace(/[\-\.\/]/g," ").split(" "),l=["","",""];u<r.length;u++)u<l.length&&(h=parseInt(r[u],10))&&(o[u]=!o[u]||o[u]<h?h:o[u],void 0!==s[u]?s[u]!==h&&(s[u]=!1):s[u]=h,h>31?h<100?l[u]="YY":l[u]="YYYY":h>12&&h<=31?(l[u]="dd",d=!0):l[u].length||(l[u]="mm"));if(d){for(u=0;u<s.length;u++)!1!==s[u]?o[u]>12&&"YY"!==l[u]&&"YYYY"!==l[u]&&(l[u]="YY"):o[u]>12&&"mm"===l[u]&&(l[u]="dd");3===l.length&&"dd"===l[1]&&"dd"===l[2]&&(l[2]="YY"),n=l.join("/")}return i&&(this.options.dateFormat=n),n}emit(t){s(this,t.type,t)}export(t,e){throw this.emit({type:"exportError",columns:[],headers:[]}),Error("Not implemented")}getTable(){throw Error("Not implemented")}guessType(t){let e="string";if("string"==typeof t){let i=this.trim(`${t}`),s=this.decimalRegExp,n=this.trim(i,!0);s&&(n=s.test(n)?n.replace(s,"$1.$2"):"");let r=parseFloat(n);+n===r?t=r:e=o(this.parseDate(t))?"Date":"string"}return"number"==typeof t&&(e=t>31536e6?"Date":"number"),e}on(t,e){return i(this,t,e)}parse(t){throw this.emit({type:"parseError",columns:[],headers:[]}),Error("Not implemented")}parseDate(t,e){let i=this.options,s=e||i.dateFormat,n=NaN,r,l,a;if(i.parseDate)n=i.parseDate(t);else{if(s)(l=this.dateFormats[s])||(l=this.dateFormats["YYYY/mm/dd"]),(a=t.match(l.regex))&&(n=l.parser(a));else for(r in this.dateFormats)if(l=this.dateFormats[r],a=t.match(l.regex)){s=r,n=l.parser(a);break}!a&&("object"==typeof(a=Date.parse(t))&&null!==a&&a.getTime?n=a.getTime()-6e4*a.getTimezoneOffset():o(a)&&(n=a-6e4*new Date(a).getTimezoneOffset(),-1===t.indexOf("2001")&&2001===new Date(n).getFullYear()&&(n=NaN)))}return n}trim(t,e){return"string"==typeof t&&(t=t.replace(/^\s+|\s+$/g,""),e&&/^[\d\s]+$/.test(t)&&(t=t.replace(/\s/g,""))),t}}return r.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1},(r||(r={})).getTableFromColumns=function(e=[],i=[]){let s=new t;for(let t=0,o=Math.max(i.length,e.length);t<o;++t)s.setColumn(i[t]||`${t}`,e[t]);return s},r}),i(e,"Data/DataCursor.js",[],function(){class t{constructor(t={}){this.emittingRegister=[],this.listenerMap={},this.stateMap=t}addListener(t,e,i){let s=this.listenerMap[t]=this.listenerMap[t]||{};return(s[e]=s[e]||[]).push(i),this}buildEmittingTag(t){return("position"===t.cursor.type?[t.table.id,t.cursor.column,t.cursor.row,t.cursor.state,t.cursor.type]:[t.table.id,t.cursor.columns,t.cursor.firstRow,t.cursor.lastRow,t.cursor.state,t.cursor.type]).join("\0")}emitCursor(e,i,s,o){let n=e.id,r=i.state,l=this.listenerMap[n]&&this.listenerMap[n][r];if(l){let r=this.stateMap[n]=this.stateMap[n]??{},a=r[i.state]||[];o&&(a.length||(r[i.state]=a),-1===t.getIndex(i,a)&&a.push(i));let d={cursor:i,cursors:a,table:e};s&&(d.event=s);let h=this.emittingRegister,u=this.buildEmittingTag(d);if(h.indexOf(u)>=0)return this;try{this.emittingRegister.push(u);for(let t=0,e=l.length;t<e;++t)l[t].call(this,d)}finally{let t=this.emittingRegister.indexOf(u);t>=0&&this.emittingRegister.splice(t,1)}}return this}remitCursor(e,i){let s=this.stateMap[e]&&this.stateMap[e][i.state];if(s){let e=t.getIndex(i,s);e>=0&&s.splice(e,1)}return this}removeListener(t,e,i){let s=this.listenerMap[t]&&this.listenerMap[t][e];if(s){let t=s.indexOf(i);t>=0&&s.splice(t,1)}return this}}return t.version="1.0.0",function(t){function e(t,e){if("range"===t.type)return t;let i={type:"range",firstRow:t.row??(e&&e.firstRow)??0,lastRow:t.row??(e&&e.lastRow)??Number.MAX_VALUE,state:t.state};return void 0!==t.column&&(i.columns=[t.column]),i}t.getIndex=function(t,e){if("position"===t.type){for(let i,s=0,o=e.length;s<o;++s)if("position"===(i=e[s]).type&&i.state===t.state&&i.column===t.column&&i.row===t.row)return s}else{let i=JSON.stringify(t.columns);for(let s,o=0,n=e.length;o<n;++o)if("range"===(s=e[o]).type&&s.state===t.state&&s.firstRow===t.firstRow&&s.lastRow===t.lastRow&&JSON.stringify(s.columns)===i)return o}return -1},t.isEqual=function(t,e){return"position"===t.type&&"position"===e.type?t.column===e.column&&t.row===e.row&&t.state===e.state:"range"===t.type&&"range"===e.type&&t.firstRow===e.firstRow&&t.lastRow===e.lastRow&&JSON.stringify(t.columns)===JSON.stringify(e.columns)},t.isInRange=function(t,i){"position"===i.type&&(i=e(i)),"position"===t.type&&(t=e(t,i));let s=t.columns,o=i.columns;return t.firstRow>=i.firstRow&&t.lastRow<=i.lastRow&&(!s||!o||s.every(t=>o.indexOf(t)>=0))},t.toPositions=function(t){if("position"===t.type)return[t];let e=t.columns||[],i=[],s=t.state;for(let o=t.firstRow,n=t.lastRow;o<n;++o){if(!e.length){i.push({type:"position",row:o,state:s});continue}for(let t=0,n=e.length;t<n;++t)i.push({type:"position",column:e[t],row:o,state:s})}return i},t.toRange=e}(t||(t={})),t}),i(e,"DataGrid/Globals.js",[],function(){var e,i;return(i=e||(e={})).classNamePrefix="highcharts-datagrid-",i.classNames={container:i.classNamePrefix+"container",tableElement:i.classNamePrefix+"table",captionElement:i.classNamePrefix+"caption",descriptionElement:i.classNamePrefix+"description",theadElement:i.classNamePrefix+"thead",tbodyElement:i.classNamePrefix+"tbody",rowElement:i.classNamePrefix+"row",rowEven:i.classNamePrefix+"row-even",rowOdd:i.classNamePrefix+"row-odd",hoveredRow:i.classNamePrefix+"hovered-row",columnElement:i.classNamePrefix+"column",hoveredCell:i.classNamePrefix+"hovered-cell",hoveredColumn:i.classNamePrefix+"hovered-column",editedCell:i.classNamePrefix+"edited-cell",rowsContentNowrap:i.classNamePrefix+"rows-content-nowrap",virtualization:i.classNamePrefix+"virtualization",scrollableContent:i.classNamePrefix+"scrollable-content",headerCell:i.classNamePrefix+"header-cell",headerCellContent:i.classNamePrefix+"header-cell-content",headerRow:i.classNamePrefix+"head-row-content",noData:i.classNamePrefix+"no-data",columnFirst:i.classNamePrefix+"column-first",columnSortable:i.classNamePrefix+"column-sortable",columnSortableIcon:i.classNamePrefix+"column-sortable-icon",columnSortedAsc:i.classNamePrefix+"column-sorted-asc",columnSortedDesc:i.classNamePrefix+"column-sorted-desc",resizerWrapper:i.classNamePrefix+"resizer-content",resizerHandles:i.classNamePrefix+"column-resizer",resizedColumn:i.classNamePrefix+"column-resized",creditsContainer:i.classNamePrefix+"credits-container",creditsText:i.classNamePrefix+"credits",visuallyHidden:i.classNamePrefix+"visually-hidden"},i.win=t,i.userAgent=i.win.navigator&&i.win.navigator.userAgent||"",i.isChrome=-1!==i.userAgent.indexOf("Chrome"),i.isSafari=!i.isChrome&&-1!==i.userAgent.indexOf("Safari"),e}),i(e,"DataGrid/Utils.js",[],function(){var t;return function(t){function e(t,e,i){let s=document.createElement(t);if(e){let t=Object.keys(e);for(let i=0;i<t.length;i++){let o=t[i],n=e[o];void 0!==n&&("style"===o?Object.assign(s.style,n):s[o]=n)}}return i&&i.appendChild(s),s}t.makeHTMLElement=e,t.makeDiv=function(t,i){return e("div",{className:t,id:i})},t.isHTML=function(t){return -1!==t.indexOf("<")},t.sanitizeText=function(t){try{return new DOMParser().parseFromString(t,"text/html").body.textContent||""}catch(t){return""}}}(t||(t={})),t}),i(e,"DataGrid/Accessibility/Accessibility.js",[e["DataGrid/Globals.js"],e["DataGrid/Utils.js"]],function(t,e){let{makeHTMLElement:i}=e;return class{constructor(e){this.dataGrid=e,this.element=document.createElement("div"),this.element.classList.add(t.classNames.visuallyHidden),this.dataGrid.container?.prepend(this.element),this.announcerElement=document.createElement("p"),this.announcerElement.setAttribute("aria-atomic","true"),this.announcerElement.setAttribute("aria-hidden","false")}addEditableCellHint(e){let s=this.dataGrid.options?.lang?.accessibility?.cellEditing?.editable;s&&i("span",{className:t.classNames.visuallyHidden,innerText:", "+s},e)}addHeaderCellDescription(t,e){e&&t.setAttribute("aria-description",e)}announce(t,e=!1){this.announcerTimeout&&clearTimeout(this.announcerTimeout),this.announcerElement.remove(),this.announcerElement.setAttribute("aria-live",e?"assertive":"polite"),this.element.appendChild(this.announcerElement),this.announcerElement.textContent=t,this.announcerTimeout=setTimeout(()=>{this.announcerElement.remove()},3e3)}userSortedColumn(t){let e;let{options:i}=this.dataGrid,s=i?.lang?.accessibility?.sorting?.announcements;if(i?.accessibility?.announcements?.sorting){switch(t){case"asc":e=s?.ascending;break;case"desc":e=s?.descending;break;default:e=s?.none}e&&this.announce(e,!0)}}userEditedCell(t){let{options:e}=this.dataGrid,i=e?.lang?.accessibility?.cellEditing?.announcements;if(!e?.accessibility?.announcements?.cellEditing)return;let s=i?.[t];s&&this.announce(s)}setColumnSortState(t,e){t?.setAttribute("aria-sort",e)}setRowIndex(t,e){t.setAttribute("aria-rowindex",e)}initTableA11yAttrs(){let t=this.dataGrid,e=t.tableElement;e&&(e.setAttribute("aria-rowcount",t.dataTable?.getRowCount()||0),t.captionElement&&e.setAttribute("aria-labelledby",t.captionElement.id),t.descriptionElement&&e.setAttribute("aria-describedby",t.descriptionElement.id))}}}),i(e,"DataGrid/Credits.js",[e["DataGrid/Globals.js"],e["DataGrid/Utils.js"]],function(t,e){let{makeHTMLElement:i}=e;return class{constructor(e){this.dataGrid=e,this.options=e.options?.credits??{},this.containerElement=i("div",{className:t.classNames.creditsContainer}),this.textElement=i("a",{className:t.classNames.creditsText},this.containerElement),this.textElement.setAttribute("target","_top"),this.render()}setContent(){let{text:t,href:e}=this.options;this.textElement.innerText=t||"",this.textElement.setAttribute("href",e||"")}appendToContainer(){let{position:t}=this.options;if("top"===t){this.dataGrid.contentWrapper?.prepend(this.containerElement);return}this.dataGrid.contentWrapper?.appendChild(this.containerElement)}update(t,e=!0){t&&(this.dataGrid.update({credits:t},!1),this.options=this.dataGrid.options?.credits??{}),e&&this.render()}render(){let t=this.options.enabled??!1;this.containerElement.remove(),t?(this.setContent(),this.appendToContainer()):this.destroy(),this.dataGrid.viewport?.reflow()}getHeight(){return this.containerElement.offsetHeight}destroy(){this.containerElement.remove(),delete this.dataGrid.credits}}}),i(e,"DataGrid/Defaults.js",[e["Core/Utilities.js"]],function(t){var e,i;let{merge:s}=t;return(i=e||(e={})).defaultOptions={accessibility:{enabled:!0,announcements:{cellEditing:!0,sorting:!0}},lang:{accessibility:{cellEditing:{editable:"Editable.",announcements:{started:"Entered cell editing mode.",edited:"Edited cell value.",cancelled:"Editing canceled."}},sorting:{announcements:{ascending:"Sorted ascending.",descending:"Sorted descending.",none:"Not sorted."}}},noData:"No data to display"},rendering:{columns:{distribution:"full"},rows:{bufferSize:10,minVisibleRows:2,strictHeights:!1,virtualization:!0},header:{enabled:!0}},credits:{enabled:!0,text:"Highcharts.com",href:"https://www.highcharts.com?credits",position:"bottom"},columnDefaults:{sorting:{sortable:!0},resizing:!0}},i.setOptions=function(t){s(!0,i.defaultOptions,t)},e}),i(e,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),i(e,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),i(e,"Core/Time.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e){let{win:i}=t,{defined:s,error:o,extend:n,isNumber:r,isObject:l,isString:a,merge:d,objectEach:h,pad:u,splat:c,timeUnits:m,ucfirst:f}=e,p=t.isSafari&&i.Intl&&!i.Intl.DateTimeFormat.prototype.formatRange,g=t=>void 0===t.main,w=t=>["D","L","M","X","J","V","S"].indexOf(t);return class{constructor(t){this.options={},this.variableTimezone=!1,this.Date=i.Date,this.update(t)}update(t={}){let e=t.timezone??"UTC";this.dTLCache={},this.options=t=d(!0,this.options,t);let{timezoneOffset:o,useUTC:n}=t;this.Date=t.Date||i.Date||Date,s(n)&&(e=n?"UTC":void 0),o&&o%60==0&&(e="Etc/GMT"+(o>0?"+":"")+o/60),this.variableTimezone="UTC"!==e&&e?.indexOf("Etc/GMT")!==0,this.timezone=e,["months","shortMonths","weekdays","shortWeekdays"].forEach(t=>{let e=/months/i.test(t),i=/short/.test(t),s={timeZone:"UTC"};s[e?"month":"weekday"]=i?"short":"long",this[t]=(e?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(t=>this.dateFormat(s,(e?31:1)*24*36e5*t))})}toParts(t){let[e,i,s,o,n,r,l]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},t,"es").split(/(?:, |\/|:)/g);return[o,+s-1,i,n,r,l,Math.floor(Number(t)||0)%1e3,w(e)].map(Number)}dateTimeFormat(t,e,i=this.options.locale){let s=JSON.stringify(t)+i;a(t)&&(t=this.str2dtf(t));let n=this.dTLCache[s];if(!n){t.timeZone??(t.timeZone=this.timezone);try{n=new Intl.DateTimeFormat(i,t)}catch(e){/Invalid time zone/i.test(e.message)?(o(34),t.timeZone="UTC",n=new Intl.DateTimeFormat(i,t)):o(e.message,!1)}}return this.dTLCache[s]=n,n?.format(e)||""}str2dtf(t,e={}){let i={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(i).forEach(s=>{-1!==t.indexOf(s)&&n(e,i[s])}),e}makeTime(t,e,i=1,s=0,o,n,r){let l=this.Date.UTC(t,e,i,s,o||0,n||0,r||0);if("UTC"!==this.timezone){let t=this.getTimezoneOffset(l);if(l+=t,-1!==[2,3,8,9,10,11].indexOf(e)&&(s<5||s>20)){let e=this.getTimezoneOffset(l);t!==e?l+=e-t:t-36e5!==this.getTimezoneOffset(l-36e5)||p||(l-=36e5)}}return l}parse(t){if(!a(t))return t??void 0;let e=(t=t.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(t),i=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(t);e||i||(t+="Z");let s=Date.parse(t);if(r(s))return s+(!e||i?this.getTimezoneOffset(s):0)}getTimezoneOffset(t){if("UTC"!==this.timezone){let[e,i,s,o,n=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},t,"en").split(/(GMT|:)/).map(Number),l=-(36e5*(s+n/60));if(r(l))return l}return 0}dateFormat(e,i,o){let r=t.defaultOptions?.lang;if(!s(i)||isNaN(i))return r?.invalidDate||"";if(a(e=e??"%Y-%m-%d %H:%M:%S")){let t;let s=/%\[([a-zA-Z]+)\]/g;for(;t=s.exec(e);)e=e.replace(t[0],this.dateTimeFormat(t[1],i))}if(a(e)&&-1!==e.indexOf("%")){let s=this,[o,l,d,c,m,f,p,g]=this.toParts(i),w=r?.weekdays||this.weekdays,b=r?.shortWeekdays||this.shortWeekdays,y=r?.months||this.months,C=r?.shortMonths||this.shortMonths;h(n({a:b?b[g]:w[g].substr(0,3),A:w[g],d:u(d),e:u(d,2," "),w:g,b:C[l],B:y[l],m:u(l+1),o:l+1,y:o.toString().substr(2,2),Y:o,H:u(c),k:c,I:u(c%12||12),l:c%12||12,M:u(m),p:c<12?"AM":"PM",P:c<12?"am":"pm",S:u(f),L:u(p,3)},t.dateFormats),function(t,o){if(a(e))for(;-1!==e.indexOf("%"+o);)e=e.replace("%"+o,"function"==typeof t?t.call(s,i):t)})}else if(l(e)){let t=(this.getTimezoneOffset(i)||0)/36e5,s=this.options.timezone||"Etc/GMT"+(t>=0?"+":"")+t,{prefix:o="",suffix:r=""}=e;e=o+this.dateTimeFormat(n({timeZone:s},e),i)+r}return o?f(e):e}resolveDTLFormat(t){return l(t,!0)?l(t,!0)&&g(t)?{main:t}:t:{main:(t=c(t))[0],from:t[1],to:t[2]}}getTimeTicks(t,e,i,o){let r=this,l=[],a={},{count:d=1,unitRange:h}=t,[u,c,f,p,g,b]=r.toParts(e),y=(e||0)%1e3,C;if(o??(o=1),s(e)){if(y=h>=m.second?0:d*Math.floor(y/d),h>=m.second&&(b=h>=m.minute?0:d*Math.floor(b/d)),h>=m.minute&&(g=h>=m.hour?0:d*Math.floor(g/d)),h>=m.hour&&(p=h>=m.day?0:d*Math.floor(p/d)),h>=m.day&&(f=h>=m.month?1:Math.max(1,d*Math.floor(f/d))),h>=m.month&&(c=h>=m.year?0:d*Math.floor(c/d)),h>=m.year&&(u-=u%d),h===m.week){d&&(e=r.makeTime(u,c,f,p,g,b,y));let t=w(this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},e,"es"));f+=-t+o+(t<o?-7:0)}e=r.makeTime(u,c,f,p,g,b,y),r.variableTimezone&&s(i)&&(C=i-e>4*m.month||r.getTimezoneOffset(e)!==r.getTimezoneOffset(i));let t=e,n=1;for(;t<i;)l.push(t),h===m.year?t=r.makeTime(u+n*d,0):h===m.month?t=r.makeTime(u,c+n*d):C&&(h===m.day||h===m.week)?t=r.makeTime(u,c,f+n*d*(h===m.day?1:7)):C&&h===m.hour&&d>1?t=r.makeTime(u,c,f,p+n*d):t+=h*d,n++;l.push(t),h<=m.hour&&l.length<1e4&&l.forEach(t=>{t%18e5==0&&"000000000"===r.dateFormat("%H%M%S%L",t)&&(a[t]="day")})}return l.info=n(t,{higherRanks:a,totalRange:h*d}),l}getDateFormat(t,e,i,s){let o=this.dateFormat("%m-%d %H:%M:%S.%L",e),n="01-01 00:00:00.000",r={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond",a=l;for(l in m){if(t===m.week&&+this.dateFormat("%w",e)===i&&o.substr(6)===n.substr(6)){l="week";break}if(m[l]>t){l=a;break}if(r[l]&&o.substr(r[l])!==n.substr(r[l]))break;"week"!==l&&(a=l)}return this.resolveDTLFormat(s[l]).main}}}),i(e,"Core/Defaults.js",[e["Core/Chart/ChartDefaults.js"],e["Core/Globals.js"],e["Core/Color/Palettes.js"],e["Core/Time.js"],e["Core/Utilities.js"]],function(t,e,i,s,o){let{isTouchDevice:n}=e,{fireEvent:r,merge:l}=o,a={colors:i.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{locale:void 0,loading:"Loading...",months:void 0,shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:t,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:t=>Math.sqrt(1-Math.pow(t-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"Week from %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:n?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};a.chart.styledMode=!1;let d=new s(a.time);return{defaultOptions:a,defaultTime:d,getOptions:function(){return a},setOptions:function(t){return r(e,"setOptions",{options:t}),l(!0,a,t),t.time&&d.update(a.time),t.lang&&"locale"in t.lang&&d.update({locale:t.lang.locale}),a}}}),i(e,"Core/Templating.js",[e["Core/Defaults.js"],e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e,i){let{defaultOptions:s,defaultTime:o}=t,{doc:n}=e,{extend:r,getNestedProperty:l,isArray:a,isNumber:d,isObject:h,pick:u,ucfirst:c}=i,m={add:(t,e)=>t+e,divide:(t,e)=>0!==e?t/e:"",eq:(t,e)=>t==e,each:function(t){let e=arguments[arguments.length-1];return!!a(t)&&t.map((i,s)=>p(e.body,r(h(i)?i:{"@this":i},{"@index":s,"@first":0===s,"@last":s===t.length-1}))).join("")},ge:(t,e)=>t>=e,gt:(t,e)=>t>e,if:t=>!!t,le:(t,e)=>t<=e,lt:(t,e)=>t<e,multiply:(t,e)=>t*e,ne:(t,e)=>t!=e,subtract:(t,e)=>t-e,ucfirst:c,unless:t=>!t},f={};function p(t="",e,i){let n=/\{([\p{L}\d:\.,;\-\/<>\[\]%_@"'’= #\(\)]+)\}/gu,r=/\(([\p{L}\d:\.,;\-\/<>\[\]%_@"'= ]+)\)/gu,a=[],d=/f$/,h=/\.(\d)/,c=i?.options.lang||s.lang,f=i&&i.time||o,w=i&&i.numberFormatter||g,b=(t="")=>{let i;return"true"===t||"false"!==t&&((i=Number(t)).toString()===t?i:/^["'].+["']$/.test(t)?t.slice(1,-1):l(t,e))},y,C,v=0,T;for(;null!==(y=n.exec(t));){let i=y,s=r.exec(y[1]);s&&(y=s,T=!0),C&&C.isBlock||(C={ctx:e,expression:y[1],find:y[0],isBlock:"#"===y[1].charAt(0),start:y.index,startInner:y.index+y[0].length,length:y[0].length});let o=(C.isBlock?i:y)[1].split(" ")[0].replace("#","");m[o]&&(C.isBlock&&o===C.fn&&v++,C.fn||(C.fn=o));let n="else"===y[1];if(C.isBlock&&C.fn&&(y[1]===`/${C.fn}`||n)){if(v)!n&&v--;else{let e=C.startInner,i=t.substr(e,y.index-e);void 0===C.body?(C.body=i,C.startInner=y.index+y[0].length):C.elseBody=i,C.find+=i+y[0],n||(a.push(C),C=void 0)}}else C.isBlock||a.push(C);if(s&&!C?.isBlock)break}return a.forEach(s=>{let o,n;let{body:r,elseBody:l,expression:a,fn:g}=s;if(g){let t=[s],d=[],h=a.length,u=0,c;for(n=0;n<=h;n++){let t=a.charAt(n);c||'"'!==t&&"'"!==t?c===t&&(c=""):c=t,c||" "!==t&&n!==h||(d.push(a.substr(u,n-u)),u=n+1)}for(n=m[g].length;n--;)t.unshift(b(d[n+1]));o=m[g].apply(e,t),s.isBlock&&"boolean"==typeof o&&(o=p(o?r:l,e,i))}else{let t=a.split(":");if(o=b(t.shift()||""),t.length&&"number"==typeof o){let e=t.join(":");if(d.test(e)){let t=parseInt((e.match(h)||["","-1"])[1],10);null!==o&&(o=w(o,t,c.decimalPoint,e.indexOf(",")>-1?c.thousandsSep:""))}else o=f.dateFormat(e,o),T&&(o=`"${o}"`)}}t=t.replace(s.find,u(o,""))}),T?p(t,e,i):t}function g(t,e,i,o){e=+e;let r,l,[a,h]=(t=+t||0).toString().split("e").map(Number),u=this?.options?.lang||s.lang,c=(t.toString().split(".")[1]||"").split("e")[0].length,m=e,p={};i??(i=u.decimalPoint),o??(o=u.thousandsSep),-1===e?e=Math.min(c,20):d(e)?e&&h<0&&((l=e+h)>=0?(a=+a.toExponential(l).split("e")[0],e=l):(a=Math.floor(a),t=e<20?+(a*Math.pow(10,h)).toFixed(e):0,h=0)):e=2,h&&(e??(e=2),t=a),d(e)&&e>=0&&(p.minimumFractionDigits=e,p.maximumFractionDigits=e),""===o&&(p.useGrouping=!1);let g=o||i,w=g?"en":this?.locale||u.locale||n.body.closest("[lang]")?.lang,b=JSON.stringify(p)+w;return r=(f[b]??(f[b]=new Intl.NumberFormat(w,p))).format(t),g&&(r=r.replace(/\,/g,o??",").replace(".",i??".")),(e||0!=+r)&&(!(h<0)||m)||(r="0"),h&&0!=+r&&(r+="e"+(h<0?"":"+")+h),r}return{dateFormat:function(t,e,i){return o.dateFormat(t,e,i)},format:p,helpers:m,numberFormat:g}}),i(e,"DataGrid/Table/Column.js",[e["DataGrid/Globals.js"],e["Core/Utilities.js"],e["DataGrid/Utils.js"],e["Core/Templating.js"]],function(t,e,i,s){let{merge:o}=e,{makeHTMLElement:n}=i;class r{constructor(t,e,i){this.cells=[],this.options=o(t.dataGrid.options?.columnDefaults??{},t.dataGrid.columnOptionsMap?.[e]??{}),this.id=e,this.index=i,this.viewport=t,this.width=this.getInitialWidth(),this.loadData()}loadData(){this.data=this.viewport.dataTable.getColumn(this.id,!0)}registerCell(e){e.htmlElement.setAttribute("data-column-id",this.id),this.options.className&&e.htmlElement.classList.add(...this.options.className.split(/\s+/g)),this.viewport.dataGrid.hoveredColumnId===this.id&&e.htmlElement.classList.add(t.classNames.hoveredColumn),this.cells.push(e)}unregisterCell(t){let e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)}getWidth(){let t=this.viewport;return"full"===t.columnDistribution?t.getWidthFromRatio(this.width):this.width}setHoveredState(e){this.header?.htmlElement?.classList[e?"add":"remove"](t.classNames.hoveredColumn);for(let i=0,s=this.cells.length;i<s;++i)this.cells[i].htmlElement.classList[e?"add":"remove"](t.classNames.hoveredColumn)}getInitialWidth(){let e;let{viewport:i}=this,s=n("div",{className:t.classNames.columnElement},i.dataGrid.container);return s.setAttribute("data-column-id",this.id),this.options.className&&s.classList.add(...this.options.className.split(/\s+/g)),e="full"===i.columnDistribution?this.getInitialFullDistWidth(s):s.offsetWidth||100,s.remove(),e}getInitialFullDistWidth(t){let e=this.viewport,i=e.dataGrid.enabledColumns?.length??0;if(this.index<i-1)return e.getRatioFromWidth(t.offsetWidth)||1/i;let s=0;for(let t=0,o=i-1;t<o;t++)s+=e.columns[t].width;let o=1-s;return o<0&&console.warn("The sum of the columns' widths exceeds the viewport width. It may cause unexpected behavior in the full distribution mode. Check the CSS styles of the columns. Corrections may be needed."),o}format(t){return s.format(t,this)}}return r.MIN_COLUMN_WIDTH=20,r}),i(e,"DataGrid/Table/Row.js",[e["DataGrid/Utils.js"]],function(t){let{makeHTMLElement:e}=t;return class{constructor(t){this.cells=[],this.viewport=t,this.htmlElement=e("tr",{})}render(){let t=this.viewport.columns;for(let e=0,i=t.length;e<i;e++)this.createCell(t[e]).render();this.rendered=!0,this.viewport.dataGrid.options?.rendering?.rows?.virtualization&&this.reflow()}reflow(){for(let t=0,e=this.cells.length;t<e;++t)this.cells[t].reflow();let t=this.viewport;t.rowsWidth&&(this.htmlElement.style.width=t.rowsWidth+"px")}destroy(){if(this.htmlElement){for(let t=this.cells.length-1;t>=0;--t)this.cells[t].destroy();this.htmlElement.remove()}}getCell(t){return this.cells.find(e=>e.column.id===t)}registerCell(t){this.cells.push(t)}unregisterCell(t){let e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)}}}),i(e,"DataGrid/Table/Cell.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Templating.js"]],function(t,e){return class{constructor(t,e){this.cellEvents=[],this.column=t,this.row=e,this.row.registerCell(this),this.htmlElement=this.init(),this.htmlElement.setAttribute("tabindex","-1"),this.initEvents()}init(){return document.createElement("td",{})}initEvents(){this.cellEvents.push(["blur",()=>this.onBlur()]),this.cellEvents.push(["focus",()=>this.onFocus()]),this.cellEvents.push(["click",t=>{this.onClick(t)}]),this.cellEvents.push(["keydown",t=>{this.onKeyDown(t)}]),this.cellEvents.forEach(t=>{this.htmlElement.addEventListener(t[0],t[1])})}onFocus(){let t=this.row.viewport,e=t.rowsVirtualizer.focusAnchorCell?.htmlElement;e?.setAttribute("tabindex","-1")}onBlur(){let t=this.row.viewport,e=t.rowsVirtualizer.focusAnchorCell?.htmlElement;e?.setAttribute("tabindex","0"),delete t.focusCursor}onKeyDown(t){let{row:e,column:i}=this,s=e.viewport,o={ArrowDown:[1,0],ArrowUp:[-1,0],ArrowLeft:[0,-1],ArrowRight:[0,1]}[t.key];if(o){t.preventDefault(),t.stopPropagation();let n=(void 0===e.index?-1:e.index-s.rows[0].index)+o[0];if(n<0&&s.header){s.columns[i.index+o[1]]?.header?.htmlElement.focus();return}let r=s.rows[n];r&&r.cells[i.index+o[1]]?.htmlElement.focus()}}render(){this.row.htmlElement.appendChild(this.htmlElement)}reflow(){let t=this.column,e=this.htmlElement.style;e.width=e.maxWidth=t.getWidth()+"px"}format(t){return e.format(t,this)}setCustomClassName(t){let e=this.htmlElement;if(this.customClassName&&e.classList.remove(...this.customClassName.split(/\s+/g)),!t){delete this.customClassName;return}let i=this.format(t);if(!i){delete this.customClassName;return}e.classList.add(...i.split(/\s+/g)),this.customClassName=i}renderHTMLCellContent(e,i){new t(e).addToDOM(i)}destroy(){this.cellEvents.forEach(t=>{this.htmlElement.removeEventListener(t[0],t[1])}),this.column.unregisterCell(this),this.row.unregisterCell(this),this.htmlElement.remove()}}}),i(e,"DataGrid/Table/Actions/ColumnSorting.js",[e["DataGrid/Globals.js"],e["DataGrid/Utils.js"]],function(t,e){let{makeHTMLElement:i}=e;return class{constructor(e,s){this.toggle=()=>{let t=this.column.viewport.dataGrid.querying.sorting,e=(t.currentSorting?.columnId===this.column.id?t.currentSorting.order:null)||"none";this.setOrder({none:"asc",asc:"desc",desc:null}[e])},this.column=e,this.headerCellElement=s,this.addHeaderElementAttributes(),e.options.sorting?.sortable&&(i("span",{className:t.classNames.columnSortableIcon,innerText:"▲"},s).setAttribute("aria-hidden",!0),s.classList.add(t.classNames.columnSortable))}addHeaderElementAttributes(){let e=this.column,i=e.viewport.dataGrid.accessibility,s=e.options.sorting,{currentSorting:o}=e.viewport.dataGrid.querying.sorting,n=this.headerCellElement;if(o?.columnId!==e.id||!o?.order){n.classList.remove(t.classNames.columnSortedAsc),n.classList.remove(t.classNames.columnSortedDesc),s?.sortable&&i?.setColumnSortState(n,"none");return}switch(o?.order){case"asc":n.classList.add(t.classNames.columnSortedAsc),n.classList.remove(t.classNames.columnSortedDesc),i?.setColumnSortState(n,"ascending");break;case"desc":n.classList.remove(t.classNames.columnSortedAsc),n.classList.add(t.classNames.columnSortedDesc),i?.setColumnSortState(n,"descending")}}async setOrder(t){let e=this.column.viewport,i=e.dataGrid.querying,s=i.sorting,o=e.dataGrid.accessibility;for(let o of(s.setSorting(t,this.column.id),await i.proceed(),e.loadPresentationData(),e.columns))o.sorting?.addHeaderElementAttributes();o?.userSortedColumn(t),e.dataGrid.options?.events?.column?.afterSorting?.call(this.column)}}}),i(e,"DataGrid/Table/Header/HeaderCell.js",[e["DataGrid/Table/Cell.js"],e["DataGrid/Utils.js"],e["DataGrid/Globals.js"],e["DataGrid/Table/Actions/ColumnSorting.js"],e["Core/Utilities.js"]],function(t,e,i,s,o){let{makeHTMLElement:n,isHTML:r}=e,{merge:l}=o;return class extends t{constructor(t,e){super(t,e),this.options={},this.value="",t.header=this,this.isMain=!!this.row.viewport.getColumn(this.column.id)}init(){let t=document.createElement("th",{});return t.classList.add(i.classNames.headerCell),t}render(){let t=this.column,e=l(t.options,this.options),s=e.header||{},o=e.sorting?.sortable&&t.data;s.formatter?this.value=s.formatter.call(this).toString():s.format?this.value=t.format(s.format):this.value=t.id,this.row.htmlElement.appendChild(this.htmlElement),this.headerContent=n(o?"button":"span",{className:i.classNames.headerCellContent},this.htmlElement),o&&this.headerContent.setAttribute("type","button"),r(this.value)?this.renderHTMLCellContent(this.value,this.headerContent):this.headerContent.innerText=this.value,this.htmlElement.setAttribute("scope","col"),this.options.className&&this.htmlElement.classList.add(...this.options.className.split(/\s+/g)),this.isMain&&(this.htmlElement.setAttribute("data-column-id",t.id),t.options.className&&this.htmlElement.classList.add(...t.options.className.split(/\s+/g)),this.column.viewport.columnsResizer?.renderColumnDragHandles(this.column,this),this.initColumnSorting()),this.setCustomClassName(e.header?.className)}reflow(){let t=this.htmlElement,e=this.column.viewport;if(!t)return;let i=0;if(this.columns)for(let t of e.dataGrid.getColumnIds(this.columns))i+=e.getColumn(t||"")?.getWidth()||0;else i=this.column.getWidth();t.style.width=t.style.maxWidth=i+"px"}onKeyDown(t){if(t.target===this.htmlElement){if("Enter"===t.key){this.column.options.sorting?.sortable&&this.column.sorting?.toggle();return}super.onKeyDown(t)}}onClick(t){let e=this.column;this.isMain&&(t.target===this.htmlElement||t.target===e.header?.headerContent)&&(e.options.sorting?.sortable&&e.sorting?.toggle(),e.viewport.dataGrid.options?.events?.header?.click?.call(e))}initColumnSorting(){let{column:t}=this;t.sorting=new s(t,this.htmlElement)}}}),i(e,"DataGrid/Table/Header/HeaderRow.js",[e["DataGrid/Table/Row.js"],e["DataGrid/Globals.js"],e["DataGrid/Table/Header/HeaderCell.js"],e["DataGrid/Table/Column.js"],e["DataGrid/Utils.js"]],function(t,e,i,s,o){let{sanitizeText:n}=o;return class extends t{constructor(t,e){super(t),this.level=e,this.setRowAttributes()}createCell(t){return new i(t,this)}renderMultipleLevel(t){let i=this.viewport.dataGrid.options?.header,o=this.viewport,r=o.dataGrid.enabledColumns;if(o.theadElement?.appendChild(this.htmlElement),this.htmlElement.classList.add(e.classNames.headerRow),!i){super.render();return}let l=this.getColumnsAtLevel(i,t);for(let i=0,a=l.length;i<a;i++){let a=l[i],d="string"!=typeof a&&a.columns?o.dataGrid.getColumnIds(a.columns).length:0,h="string"==typeof a?a:a.columnId,u=o.getColumn(h||""),c="string"!=typeof a?a.format:void 0,m="string"!=typeof a?a.className:void 0;if(h&&r&&r?.indexOf(h)<0||!u&&0===d)continue;let f=this.createCell(o.getColumn(h||"")||new s(o,n(c||"").trim()||"",i));"string"!=typeof a&&o.dataGrid.accessibility?.addHeaderCellDescription(f.htmlElement,a.accessibility?.description),c&&(f.options.header||(f.options.header={}),f.options.header.format=c),m&&(f.options.className=m),u?.index===0&&0===i&&f.htmlElement.classList.add(e.classNames.columnFirst),f.render(),f.columns="string"!=typeof a?a.columns:void 0,h?f.htmlElement.setAttribute("rowSpan",(this.viewport.header?.levels||1)-t):d>1&&f.htmlElement.setAttribute("colSpan",d)}}reflow(){for(let t=0,e=this.cells.length;t<e;t++)this.cells[t].reflow()}getColumnsAtLevel(t,e,i=0){let s=[];for(let o of t)i===e&&s.push(o),"string"!=typeof o&&o.columns&&(s=s.concat(this.getColumnsAtLevel(o.columns,e,i+1)));return s}setRowAttributes(){let t=this.viewport.dataGrid.accessibility;t?.setRowIndex(this.htmlElement,this.level)}}}),i(e,"DataGrid/Table/Header/TableHeader.js",[e["DataGrid/Table/Header/HeaderRow.js"],e["Core/Utilities.js"]],function(t,e){let{getStyle:i}=e;return class{constructor(t){this.columns=[],this.rows=[],this.levels=1,this.viewport=t,this.columns=t.columns,t.dataGrid.options?.header&&(this.levels=this.getRowLevels(t.dataGrid.options?.header))}render(){let e=this.viewport;if(e.dataGrid.enabledColumns)for(let i=0,s=this.levels;i<s;i++){let s=new t(e,i+1);s.renderMultipleLevel(i),this.rows.push(s)}}reflow(){let t=this.viewport;if(!t.theadElement)return;let{clientWidth:e,offsetWidth:s}=t.tbodyElement,o=t.header,n=this.rows,r=o?.viewport.dataGrid.tableElement,l=o?.viewport.theadElement,a=s-e-(l&&i(l,"border-right-width",!0)||0)-(r&&i(r,"border-right-width",!0)||0);for(let t of n)t.reflow();if(t.rowsWidth&&(t.theadElement.style.width=Math.max(t.rowsWidth,e)+a+"px"),o&&a>0&&"full"===this.viewport.columnDistribution){let t=o.rows[o.rows.length-1].cells,e=t[t.length-1].htmlElement;e.style.width=e.style.maxWidth=e.offsetWidth+a+"px"}}getRowLevels(t){let e=0;for(let i of t)if("string"!=typeof i&&i.columns){let t=this.getRowLevels(i.columns);t>e&&(e=t)}return e+1}scrollHorizontally(t){let e=this.viewport.theadElement;e&&(e.style.transform=`translateX(${-t}px)`)}}}),i(e,"DataGrid/Table/Content/TableCell.js",[e["DataGrid/Table/Cell.js"],e["Core/Utilities.js"],e["DataGrid/Utils.js"]],function(t,e,i){let{defined:s,fireEvent:o}=e,{isHTML:n}=i;return class extends t{constructor(t,e){super(t,e),this.row=e,this.column.registerCell(this)}render(){super.render(),this.setValue(this.column.data?.[this.row.index],!1)}initEvents(){this.cellEvents.push(["dblclick",t=>{this.onDblClick(t)}]),this.cellEvents.push(["mouseout",()=>this.onMouseOut()]),this.cellEvents.push(["mouseover",()=>this.onMouseOver()]),this.cellEvents.push(["mousedown",t=>{this.onMouseDown(t)}]),super.initEvents()}onFocus(){super.onFocus(),this.row.viewport.focusCursor=[this.row.index,this.column.index]}onMouseDown(t){let{dataGrid:e}=this.row.viewport;t.target===this.htmlElement&&this.htmlElement.focus(),o(e,"cellMouseDown",{target:this})}onMouseOver(){let{dataGrid:t}=this.row.viewport;t.hoverRow(this.row.index),t.hoverColumn(this.column.id),t.options?.events?.cell?.mouseOver?.call(this),o(t,"cellMouseOver",{target:this})}onMouseOut(){let{dataGrid:t}=this.row.viewport;t.hoverRow(),t.hoverColumn(),t.options?.events?.cell?.mouseOut?.call(this),o(t,"cellMouseOut",{target:this})}onDblClick(t){let e=this.row.viewport,{dataGrid:i}=e;this.column.options.cells?.editable&&(t.preventDefault(),e.cellEditing.startEditing(this)),i.options?.events?.cell?.dblClick?.call(this),o(i,"cellDblClick",{target:this})}onClick(){let{dataGrid:t}=this.row.viewport;t.options?.events?.cell?.click?.call(this),o(t,"cellClick",{target:this})}onKeyDown(t){if(t.target===this.htmlElement){if("Enter"===t.key){this.column.options.cells?.editable&&this.row.viewport.cellEditing.startEditing(this);return}super.onKeyDown(t)}}async setValue(t,e){let i;this.value=t;let s=this.column.viewport,o=this.htmlElement,r=this.formatCell();if(n(r)?this.renderHTMLCellContent(r,o):o.innerText=r,this.htmlElement.setAttribute("data-value",this.value+""),this.setCustomClassName(this.column.options.cells?.className),this.column.options.cells?.editable&&s.dataGrid.accessibility?.addEditableCellHint(this.htmlElement),s.dataGrid.options?.events?.cell?.afterSetValue?.call(this),!e)return;let{dataTable:l}=s.dataGrid,a=this.row.id&&l?.getLocalRowIndex(this.row.id);if(l&&void 0!==a&&(l.setCell(this.column.id,a,this.value),!s.dataGrid.querying.willNotModify()&&(s.focusCursor&&(i=s.dataTable.getOriginalRowIndex(s.focusCursor[0])),await s.dataGrid.querying.proceed(!0),s.loadPresentationData(),void 0!==i&&s.focusCursor))){let t=s.dataTable.getLocalRowIndex(i);void 0!==t&&s.rows[t-s.rows[0].index]?.cells[s.focusCursor[1]].htmlElement.focus()}}formatCell(){let{format:t,formatter:e}=this.column.options.cells||{},i=this.value;return s(i)||(i=""),e?e.call(this).toString():t?this.format(t):i+""}destroy(){super.destroy()}}}),i(e,"DataGrid/Table/Content/TableRow.js",[e["DataGrid/Table/Row.js"],e["DataGrid/Table/Content/TableCell.js"],e["DataGrid/Globals.js"]],function(t,e,i){return class extends t{constructor(t,e){super(t),this.data=[],this.translateY=0,this.index=e,this.id=t.dataTable.getOriginalRowIndex(e),this.loadData(),this.setRowAttributes()}createCell(t){return new e(t,this)}loadData(){let t=this.viewport.dataTable.getRow(this.index);t&&(this.data=t)}setHoveredState(t){this.htmlElement.classList[t?"add":"remove"](i.classNames.hoveredRow),t&&(this.viewport.dataGrid.hoveredRowIndex=this.index)}setRowAttributes(){let t=this.index,e=this.htmlElement,s=this.viewport.dataGrid.accessibility;e.classList.add(i.classNames.rowElement),e.setAttribute("data-row-index",t),void 0!==this.id&&e.setAttribute("data-row-id",this.id),s?.setRowIndex(e,t+(this.viewport.header?.levels??1)+1),e.classList.add(i.classNames[t%2?"rowEven":"rowOdd"]),this.viewport.dataGrid.hoveredRowIndex===t&&e.classList.add(i.classNames.hoveredRow)}setTranslateY(t){this.translateY=t,this.htmlElement.style.transform=`translateY(${t}px)`}getDefaultTopOffset(){return this.index*this.viewport.rowsVirtualizer.defaultRowHeight}}}),i(e,"DataGrid/Table/Actions/RowsVirtualizer.js",[e["DataGrid/Utils.js"],e["DataGrid/Globals.js"],e["DataGrid/Table/Content/TableRow.js"]],function(t,e,i){let{makeHTMLElement:s}=t;return class{constructor(t){this.rowCursor=0,this.preventScroll=!1,this.rowSettings=t.dataGrid.options?.rendering?.rows,this.viewport=t,this.strictRowHeights=this.rowSettings.strictHeights,this.buffer=Math.max(this.rowSettings.bufferSize,0),this.defaultRowHeight=this.getDefaultRowHeight(),this.strictRowHeights&&t.tbodyElement.classList.add(e.classNames.rowsContentNowrap)}initialRender(){this.rowSettings?.virtualization&&this.viewport.reflow(),this.renderRows(this.rowCursor),this.rowSettings?.virtualization&&this.adjustRowHeights()}rerender(){let t;let e=this.viewport.tbodyElement,i=this.viewport.rows;if(i.length){t=e.scrollTop;for(let t=0,e=i.length;t<e;++t)i[t].destroy();i.length=0}this.renderRows(this.rowCursor),this.rowSettings?.virtualization&&(void 0!==t&&(e.scrollTop=t),this.scroll()),i=this.viewport.rows;for(let t=0,e=i.length;t<e;++t)i[t].reflow()}scroll(){let t=this.viewport.tbodyElement,{defaultRowHeight:e}=this,i=t.scrollTop;if(this.preventScroll){i<=t.scrollTop&&(this.preventScroll=!1),this.adjustBottomRowHeights();return}let s=Math.floor(t.scrollTop/e);this.rowCursor!==s&&this.renderRows(s),this.rowCursor=s,this.adjustRowHeights(),this.strictRowHeights||!(i>t.scrollTop)||this.preventScroll||(t.scrollTop=i,this.preventScroll=!0)}adjustBottomRowHeights(){let t=this.viewport.rows,e=t.length,i=t[e-1],s=i.translateY,o=s+i.htmlElement.offsetHeight,n=i.cells[0].htmlElement.offsetHeight;s=o-n,i.htmlElement.style.height=n+"px",i.setTranslateY(s);for(let t=0,e=i.cells.length;t<e;++t)i.cells[t].htmlElement.style.transform="";for(let i=e-2;i>=0;i--){let e=t[i];s-=n=e.cells[0].htmlElement.offsetHeight,e.htmlElement.style.height=n+"px",e.setTranslateY(s);for(let t=0,i=e.cells.length;t<i;++t)e.cells[t].htmlElement.style.transform=""}}renderRows(t){let{viewport:e,buffer:s}=this,o=this.rowSettings?.virtualization,n=o?Math.ceil((e.dataGrid.tableElement?.clientHeight||0)/this.defaultRowHeight):1/0,r=e.rows;if(!o&&r.length>50&&console.warn("DataGrid: a large dataset can cause performance issues."),!r.length){let t=new i(e,e.dataTable.getRowCount()-1);t.render(),r.push(t),e.tbodyElement.appendChild(t.htmlElement),o&&t.setTranslateY(t.getDefaultTopOffset())}let l=Math.max(0,Math.min(t-s,e.dataTable.getRowCount()-n)),a=Math.min(t+n+s,r[r.length-1].index-1),d=r.pop(),h=[];for(let t=0,e=r.length;t<e;++t){let e=r[t],i=e.index;i<l||i>a?e.destroy():h.push(e)}r=h,e.rows=r;for(let t=l;t<=a;++t)if(!r[t-(r[0]?.index||0)]){let s=new i(e,t);r.push(s),s.rendered=!1,o&&s.setTranslateY(s.getDefaultTopOffset())}r.sort((t,e)=>t.index-e.index);for(let t=0,i=r.length;t<i;++t)r[t].rendered||(r[t].render(),e.tbodyElement.insertBefore(r[t].htmlElement,e.tbodyElement.lastChild));if(d&&r.push(d),e.focusCursor){let[t,i]=e.focusCursor,s=r.find(e=>e.index===t);s&&s.cells[i]?.htmlElement.focus({preventScroll:!0})}let u=r[t-r[0].index];this.focusAnchorCell=u?.cells[0],this.focusAnchorCell?.htmlElement.setAttribute("tabindex","0")}adjustRowHeights(){if(this.strictRowHeights)return;let{rowCursor:t,defaultRowHeight:e}=this,{rows:i,tbodyElement:s}=this.viewport,o=i.length,n=i[0].getDefaultTopOffset();for(let n=0;n<o;++n){let o=i[n];if(o.htmlElement.style.height="",o.cells[0].htmlElement.style.transform)for(let t=0,e=o.cells.length;t<e;++t)o.cells[t].htmlElement.style.transform="";if(o.index<t){o.htmlElement.style.height=e+"px";continue}let r=o.cells[0].htmlElement.offsetHeight;if(o.htmlElement.style.height=r+"px",!(o.index>t)&&o.htmlElement.offsetHeight>e){let i=Math.floor(r-(r-e)*(s.scrollTop/e-t));o.htmlElement.style.height=i+"px";for(let t=0,e=o.cells.length;t<e;++t)o.cells[t].htmlElement.style.transform=`translateY(${i-r}px)`}}for(let t=1,e=o-1;t<e;++t)n+=i[t-1].htmlElement.offsetHeight,i[t].setTranslateY(n);let r=i[o-1],l=i[o-2];l&&l.index===r.index-1&&r.setTranslateY(l.htmlElement.offsetHeight+n)}reflowRows(){let t=this.viewport.rows;if(!(t.length<1)){for(let e=0,i=t.length;e<i;++e)t[e].reflow();this.rowSettings?.virtualization&&this.adjustRowHeights()}}getDefaultRowHeight(){let t=s("tr",{className:e.classNames.rowElement,style:{position:"absolute"}},this.viewport.tbodyElement),i=s("td",{innerText:"mock",className:"outline"},t),o=t.offsetHeight;return t.remove(),i.remove(),o}}}),i(e,"DataGrid/Table/Actions/ColumnsResizer.js",[e["DataGrid/Table/Column.js"],e["DataGrid/Globals.js"],e["DataGrid/Utils.js"],e["Core/Utilities.js"]],function(t,e,i,s){let{makeHTMLElement:o}=i,{getStyle:n}=s;return class{constructor(t){this.handles=[],this.onDocumentMouseMove=t=>{if(!this.draggedResizeHandle||!this.draggedColumn)return;let e=t.pageX-(this.dragStartX||0),i=this.viewport;"full"===i.columnDistribution?this.fullDistributionResize(e):this.fixedDistributionResize(e),i.reflow(!0),i.dataGrid.options?.rendering?.rows?.virtualization&&i.rowsVirtualizer.adjustRowHeights(),i.dataGrid.options?.events?.column?.afterResize?.call(this.draggedColumn)},this.onDocumentMouseUp=()=>{this.draggedColumn?.header?.htmlElement?.classList.remove(e.classNames.resizedColumn),this.dragStartX=void 0,this.draggedColumn=void 0,this.draggedResizeHandle=void 0,this.columnStartWidth=void 0,this.nextColumnStartWidth=void 0},this.viewport=t,document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp)}fullDistributionResize(e){let i=this.viewport,s=this.draggedColumn;if(!s)return;let o=i.columns[s.index+1];if(!o)return;let r=this.columnStartWidth??0,l=this.nextColumnStartWidth??0,a=s.cells[1].htmlElement,d=Math.max((n(a,"padding-left",!0)||0)+(n(a,"padding-right",!0)||0)+(n(a,"border-left",!0)||0),t.MIN_COLUMN_WIDTH),h=r+e,u=l-e;h<d&&(h=d,u=r+l-d),u<d&&(u=d,h=r+l-d),s.width=i.getRatioFromWidth(h),o.width=i.getRatioFromWidth(u)}renderColumnDragHandles(t,i){let s=t.viewport;if(s.columnsResizer&&("full"!==s.columnDistribution||s.dataGrid.enabledColumns&&t.index<s.dataGrid.enabledColumns.length-1)){let n=o("div",{className:e.classNames.resizerHandles},i.htmlElement);n.setAttribute("aria-hidden",!0),s.columnsResizer?.addHandleListeners(n,t)}}fixedDistributionResize(e){let i=this.draggedColumn;if(!i)return;let s=this.columnStartWidth??0,o=t.MIN_COLUMN_WIDTH,n=s+e;n<o&&(n=o),i.width=n}addHandleListeners(t,i){let s=s=>{let o=i.viewport;o.dataGrid.options?.rendering?.rows?.virtualization||(o.dataGrid.contentWrapper?.classList.add(e.classNames.resizerWrapper),this.viewport.reflow(!0)),this.dragStartX=s.pageX,this.draggedColumn=i,this.draggedResizeHandle=t,this.columnStartWidth=i.getWidth(),this.nextColumnStartWidth=this.viewport.columns[i.index+1]?.getWidth(),i.header?.htmlElement.classList.add(e.classNames.resizedColumn)};this.handles.push([t,s]),t.addEventListener("mousedown",s)}removeEventListeners(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("mouseup",this.onDocumentMouseUp);for(let t=0,e=this.handles.length;t<e;t++){let[e,i]=this.handles[t];e.removeEventListener("mousedown",i)}}}}),i(e,"DataGrid/Table/Actions/CellEditing.js",[e["DataGrid/Globals.js"],e["DataGrid/Utils.js"]],function(t,e){let{makeHTMLElement:i}=e;return class{constructor(){this.onInputBlur=()=>{this.stopEditing()},this.onInputKeyDown=t=>{let{keyCode:e}=t;(13===e||27===e)&&this.stopEditing(13===e)}}startEditing(e){if(this.editedCell===e)return;this.editedCell&&this.stopEditing(),this.editedCell=e;let i=e.htmlElement;i.innerHTML="",i.classList.add(t.classNames.editedCell),e.row.viewport.dataGrid.accessibility?.userEditedCell("started"),this.renderInput()}stopEditing(e=!0){let i=this.editedCell,s=this.inputElement;if(!i||!s)return;let o=i.column.viewport.dataGrid,n=s.value;this.destroyInput(),i.htmlElement.classList.remove(t.classNames.editedCell),i.htmlElement.focus(),isNaN(+n)||(n=+n),i.setValue(e?n:i.value,e&&i.value!==n),o.options?.events?.cell?.afterEdit?.call(i),i.row.viewport.dataGrid.accessibility?.userEditedCell(e?"edited":"cancelled"),delete this.editedCell}renderInput(){let t=this.editedCell;if(!t)return;let e=t.htmlElement,s=this.inputElement=i("input",{},e);s.value=""+t.value,s.focus(),s.addEventListener("blur",this.onInputBlur),s.addEventListener("keydown",this.onInputKeyDown)}destroyInput(){let t=this.inputElement;t&&(t.removeEventListener("keydown",this.onInputKeyDown),t.removeEventListener("blur",this.onInputBlur),t.remove(),delete this.inputElement)}}}),i(e,"DataGrid/Table/Table.js",[e["DataGrid/Utils.js"],e["Core/Utilities.js"],e["DataGrid/Table/Column.js"],e["DataGrid/Table/Header/TableHeader.js"],e["DataGrid/Table/Actions/RowsVirtualizer.js"],e["DataGrid/Table/Actions/ColumnsResizer.js"],e["DataGrid/Globals.js"],e["DataGrid/Table/Actions/CellEditing.js"]],function(t,e,i,s,o,n,r,l){let{makeHTMLElement:a}=t,{getStyle:d,defined:h}=e;return class{constructor(t,e){this.columns=[],this.rows=[],this.onTBodyFocus=t=>{t.preventDefault(),this.rows[this.rowsVirtualizer.rowCursor-this.rows[0].index]?.cells[0]?.htmlElement.focus()},this.onResize=()=>{this.reflow(!0)},this.onScroll=()=>{this.rowsVirtualizer.scroll(),this.header?.scrollHorizontally(this.tbodyElement.scrollLeft)},this.dataGrid=t,this.dataTable=this.dataGrid.presentationTable;let i=t.options,s=i?.rendering?.table?.className;this.columnDistribution=i?.rendering?.columns?.distribution,this.virtualRows=!!i?.rendering?.rows?.virtualization,this.scrollable=!!(this.dataGrid.initialContainerHeight||this.virtualRows),i?.rendering?.header?.enabled&&(this.theadElement=a("thead",{},e)),this.tbodyElement=a("tbody",{},e),this.virtualRows&&e.classList.add(r.classNames.virtualization),this.rowsVirtualizer=new o(this),i?.columnDefaults?.resizing&&(this.columnsResizer=new n(this)),this.cellEditing=new l,s&&e.classList.add(...s.split(/\s+/g)),this.init(),this.resizeObserver=new ResizeObserver(this.onResize),this.resizeObserver.observe(e),this.virtualRows&&this.tbodyElement.addEventListener("scroll",this.onScroll),this.scrollable&&e.classList.add(r.classNames.scrollableContent),this.tbodyElement.addEventListener("focus",this.onTBodyFocus)}init(){this.setTbodyMinHeight(),this.loadColumns(),this.dataGrid.options?.rendering?.header?.enabled&&(this.header=new s(this),this.header.render()),this.rowsVirtualizer.initialRender()}setTbodyMinHeight(){let{options:t}=this.dataGrid,e=t?.rendering?.rows?.minVisibleRows,i=this.tbodyElement;h(e)&&!d(i,"min-height",!0)&&(i.style.minHeight=e*this.rowsVirtualizer.defaultRowHeight+"px")}loadColumns(){let t;let{enabledColumns:e}=this.dataGrid;if(e)for(let s=0,o=e.length;s<o;++s)t=e[s],this.columns.push(new i(this,t,s))}loadPresentationData(){for(let t of(this.dataTable=this.dataGrid.presentationTable,this.columns))t.loadData();this.rowsVirtualizer.rerender()}reflow(t=!1){let e=this.dataGrid.options?.rendering?.rows?.virtualization;if("fixed"===this.columnDistribution){let t=0;for(let e=0,i=this.columns.length;e<i;++e)t+=this.columns[e].width;this.rowsWidth=t}(e||t)&&(this.header?.reflow(),this.rowsVirtualizer.reflowRows())}scrollToRow(t){if(this.dataGrid.options?.rendering?.rows?.virtualization){this.tbodyElement.scrollTop=t*this.rowsVirtualizer.defaultRowHeight;return}let e="."+r.classNames.rowElement,i=this.tbodyElement.querySelectorAll(e)[0].getBoundingClientRect().top;this.tbodyElement.scrollTop=this.tbodyElement.querySelectorAll(e)[t].getBoundingClientRect().top-i}getRatioFromWidth(t){return t/this.tbodyElement.clientWidth}getWidthFromRatio(t){return this.tbodyElement.clientWidth*t}destroy(){this.tbodyElement.removeEventListener("focus",this.onTBodyFocus),this.dataGrid.options?.rendering?.rows?.virtualization&&this.tbodyElement.removeEventListener("scroll",this.onScroll),this.resizeObserver.disconnect(),this.columnsResizer?.removeEventListeners();for(let t=0,e=this.rows.length;t<e;++t)this.rows[t].destroy()}getStateMeta(){return{scrollTop:this.tbodyElement.scrollTop,scrollLeft:this.tbodyElement.scrollLeft,columnDistribution:this.columnDistribution,columnWidths:this.columns.map(t=>t.width),focusCursor:this.focusCursor}}applyStateMeta(t){if(this.tbodyElement.scrollTop=t.scrollTop,this.tbodyElement.scrollLeft=t.scrollLeft,this.columnDistribution===t.columnDistribution&&this.columns.length===t.columnWidths.length){let e=t.columnWidths;for(let t=0,i=e.length;t<i;++t)this.columns[t].width=e[t];if(this.reflow(),t.focusCursor){let[e,i]=t.focusCursor,s=this.rows[e-this.rows[0].index];s?.cells[i]?.htmlElement.focus()}}}getColumn(t){let e=this.dataGrid.enabledColumns;if(!e)return;let i=e.indexOf(t);if(!(i<0))return this.columns[i]}getRow(t){return this.rows.find(e=>e.id===t)}}}),i(e,"Data/Modifiers/ChainModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(t,e){let{merge:i}=e;class s extends t{constructor(e,...o){super(),this.chain=o,this.options=i(s.defaultOptions,e);let n=this.options.chain||[];for(let e=0,i=n.length,s,r;e<i;++e)(s=n[e]).type&&(r=t.types[s.type])&&o.push(new r(s))}add(t,e){this.emit({type:"addModifier",detail:e,modifier:t}),this.chain.push(t),this.emit({type:"addModifier",detail:e,modifier:t})}clear(t){this.emit({type:"clearChain",detail:t}),this.chain.length=0,this.emit({type:"afterClearChain",detail:t})}async modify(t,e){let i=this.options.reverse?this.chain.slice().reverse():this.chain.slice();t.modified===t&&(t.modified=t.clone(!1,e));let s=t;for(let o=0,n=i.length;o<n;++o){try{await i[o].modify(s,e)}catch(i){throw this.emit({type:"error",detail:e,table:t}),i}s=s.modified}return t.modified=s,t}modifyCell(t,e,i,s,o){let n=this.options.reverse?this.chain.reverse():this.chain;if(n.length){let r=t.clone();for(let t=0,l=n.length;t<l;++t)n[t].modifyCell(r,e,i,s,o),r=r.modified;t.modified=r}return t}modifyColumns(t,e,i,s){let o=this.options.reverse?this.chain.reverse():this.chain.slice();if(o.length){let n=t.clone();for(let t=0,r=o.length;t<r;++t)o[t].modifyColumns(n,e,i,s),n=n.modified;t.modified=n}return t}modifyRows(t,e,i,s){let o=this.options.reverse?this.chain.reverse():this.chain.slice();if(o.length){let n=t.clone();for(let t=0,r=o.length;t<r;++t)o[t].modifyRows(n,e,i,s),n=n.modified;t.modified=n}return t}modifyTable(t,e){this.emit({type:"modify",detail:e,table:t});let i=this.options.reverse?this.chain.reverse():this.chain.slice(),s=t.modified;for(let t=0,o=i.length;t<o;++t)s=i[t].modifyTable(s,e).modified;return t.modified=s,this.emit({type:"afterModify",detail:e,table:t}),t}remove(t,e){let i=this.chain;this.emit({type:"removeModifier",detail:e,modifier:t}),i.splice(i.indexOf(t),1),this.emit({type:"afterRemoveModifier",detail:e,modifier:t})}}return s.defaultOptions={type:"Chain"},t.registerType("Chain",s),s}),i(e,"Data/Modifiers/SortModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],function(t,e,i){let{merge:s}=i;class o extends t{static ascending(t,e){return(t||0)<(e||0)?-1:(t||0)>(e||0)?1:0}static descending(t,e){return(e||0)<(t||0)?-1:(e||0)>(t||0)?1:0}constructor(t){super(),this.options=s(o.defaultOptions,t)}getRowReferences(t){let e=t.getRows(),i=[];for(let t=0,s=e.length;t<s;++t)i.push({index:t,row:e[t]});return i}modifyCell(t,i,s,o,n){let{orderByColumn:r,orderInColumn:l}=this.options;return i===r&&(l?(t.modified.setCell(i,s,o),t.modified.setColumn(l,this.modifyTable(new e({columns:t.getColumns([r,l])})).modified.getColumn(l))):this.modifyTable(t,n)),t}modifyColumns(t,i,s,o){let{orderByColumn:n,orderInColumn:r}=this.options,l=Object.keys(i);return l.indexOf(n)>-1&&(r&&i[l[0]].length?(t.modified.setColumns(i,s),t.modified.setColumn(r,this.modifyTable(new e({columns:t.getColumns([n,r])})).modified.getColumn(r))):this.modifyTable(t,o)),t}modifyRows(t,i,s,o){let{orderByColumn:n,orderInColumn:r}=this.options;return r&&i.length?(t.modified.setRows(i,s),t.modified.setColumn(r,this.modifyTable(new e({columns:t.getColumns([n,r])})).modified.getColumn(r))):this.modifyTable(t,o),t}modifyTable(t,e){this.emit({type:"modify",detail:e,table:t});let i=t.getColumnNames(),s=t.getRowCount(),n=this.getRowReferences(t),{direction:r,orderByColumn:l,orderInColumn:a}=this.options,d="asc"===r?o.ascending:o.descending,h=i.indexOf(l),u=t.modified;if(-1!==h&&n.sort((t,e)=>d(t.row[h],e.row[h])),a){let t=[];for(let e=0;e<s;++e)t[n[e].index]=e;u.setColumns({[a]:t})}else{let t;let e=[],i=[];for(let o=0;o<s;++o)t=n[o],e.push(u.getOriginalRowIndex(t.index)),i.push(t.row);u.setRows(i,0),u.setOriginalRowIndexes(e)}return this.emit({type:"afterModify",detail:e,table:t}),t}}return o.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"},t.registerType("Sort",o),o}),i(e,"DataGrid/Querying/SortingController.js",[e["Data/Modifiers/SortModifier.js"]],function(t){return class{constructor(t){this.shouldBeUpdated=!1,this.dataGrid=t}setSorting(t,e){(this.currentSorting?.columnId!==e||this.currentSorting?.order!==t)&&(this.shouldBeUpdated=!0,this.currentSorting={columnId:e,order:t}),this.modifier=this.createModifier()}getSortingOptions(){let t;let{columnOptionsMap:e}=this.dataGrid;if(!e)return{order:null};let i=Object.keys(e),s=null;for(let o=i.length-1;o>-1;--o){let n=i[o],r=e[n],l=r.sorting?.order;if(l){if(t){console.warn(`DataGrid: Only one column can be sorted at a time. Data will be sorted only by the last found column with the sorting order defined in the options: "${t}".`);break}s=l,t=n}}return{columnId:t,order:s}}loadOptions(){let t=this.getSortingOptions();(t.columnId!==this.initialSorting?.columnId||t.order!==this.initialSorting?.order)&&(this.initialSorting=t,this.setSorting(t.order,t.columnId))}createModifier(){if(!this.currentSorting)return;let{columnId:e,order:i}=this.currentSorting;if(i)return new t({orderByColumn:e,direction:i})}}}),i(e,"DataGrid/Querying/QueryingController.js",[e["Data/Modifiers/ChainModifier.js"],e["DataGrid/Querying/SortingController.js"]],function(t,e){return class{constructor(t){this.dataGrid=t,this.sorting=new e(t)}async proceed(t=!1){(t||this.sorting.shouldBeUpdated)&&await this.modifyData()}loadOptions(){this.sorting.loadOptions()}willNotModify(){return!this.sorting.modifier}async modifyData(){let e=this.dataGrid.dataTable;if(!e)return;let i=[];if(this.sorting.modifier&&i.push(this.sorting.modifier),i.length>0){let s=new t({},...i),o=e.clone();await s.modify(o.modified),this.dataGrid.presentationTable=o.modified}else this.dataGrid.presentationTable=e.modified;this.sorting.shouldBeUpdated=!1}}}),i(e,"DataGrid/DataGrid.js",[e["DataGrid/Accessibility/Accessibility.js"],e["Core/Renderer/HTML/AST.js"],e["DataGrid/Credits.js"],e["DataGrid/Defaults.js"],e["DataGrid/Utils.js"],e["Data/DataTable.js"],e["DataGrid/Globals.js"],e["DataGrid/Table/Table.js"],e["Core/Utilities.js"],e["DataGrid/Querying/QueryingController.js"]],function(t,e,i,s,o,n,r,l,a,d){let{makeHTMLElement:h}=o,{win:u}=r,{merge:c,getStyle:m}=a;class f{static dataGrid(t,e,i){return i?new Promise(i=>{new f(t,e,t=>{i(t)})}):new f(t,e)}constructor(t,e,i){this.columnOptionsMap={},this.userOptions={},this.initialContainerHeight=0,this.loadUserOptions(e),this.querying=new d(this),this.id=this.options?.id||a.uniqueKey(),this.initContainers(t),this.initAccessibility(),this.loadDataTable(this.options?.dataTable),this.querying.loadOptions(),this.querying.proceed().then(()=>{this.renderViewport(),i?.(this)}),f.dataGrids.push(this)}initAccessibility(){this.options?.accessibility?.enabled&&(this.accessibility=new t(this))}initContainers(t){let i="string"==typeof t?u.document.getElementById(t):t;if(!i){console.error(`
                        Rendering div not found. It is unable to find the HTML element
                        to render the DataGrid in.
                    `);return}this.initialContainerHeight=m(i,"height",!0)||0,this.container=i,this.container.innerHTML=e.emptyHTML,this.contentWrapper=h("div",{className:r.classNames.container},this.container)}loadUserOptions(t,e=!1){(t=c(t)).columns&&(e?this.loadColumnOptionsOneToOne(t.columns):this.loadColumnOptions(t.columns),delete t.columns),this.userOptions=c(this.userOptions,t),this.options=c(this.options??s.defaultOptions,this.userOptions);let i=this.options?.columns;if(!i)return;let o={};for(let t=0,e=i?.length??0;t<e;++t)o[i[t].id]=i[t];this.columnOptionsMap=o}loadColumnOptions(t,e=!1){this.userOptions.columns||(this.userOptions.columns=[]);let i=this.userOptions.columns;for(let s=0,o=t.length;s<o;++s){let o=t[s],n=i.findIndex(t=>t.id===o.id);if(Object.keys(o).length<2){e&&-1!==n&&i.splice(n,1);continue}-1===n?i.push(o):e?i[n]=o:i[n]=c(i[n],o)}i.length<1&&delete this.userOptions.columns}loadColumnOptionsOneToOne(t){let e;let i=this.userOptions.columns,s=[];for(let o=0,n=t.length;o<n;++o){let n=t[o],r=i?.findIndex(t=>t.id===n.id);void 0!==r&&-1!==r&&(e=i?.[r]);let l=c(e??{},n);Object.keys(l).length>1&&s.push(l)}this.userOptions.columns=s}async update(t={},e=!0,i=!1){this.loadUserOptions(t,i);let s=!1;(!this.dataTable||t.dataTable)&&(this.userOptions.dataTable=t.dataTable,(this.options??{}).dataTable=t.dataTable,this.loadDataTable(this.options?.dataTable),s=!0),this.querying.loadOptions(),e&&(await this.querying.proceed(s),this.renderViewport())}async updateColumn(t,e,i=!0,s=!1){this.loadColumnOptions([{id:t,...e}],s),await this.update(void 0,i)}hoverRow(t){let e=this.viewport?.rows;if(!e)return;let i=this.viewport?.rows[0]?.index??0;void 0!==this.hoveredRowIndex&&e[this.hoveredRowIndex-i]?.setHoveredState(!1),void 0!==t&&e[t-i]?.setHoveredState(!0),this.hoveredRowIndex=t}hoverColumn(t){let e=this.viewport;e&&(this.hoveredColumnId&&e.getColumn(this.hoveredColumnId)?.setHoveredState(!1),t&&e.getColumn(t)?.setHoveredState(!0),this.hoveredColumnId=t)}renderCaption(){let t=this.options?.caption;t?.text&&(this.captionElement=h("div",{innerText:t.text,className:r.classNames.captionElement,id:this.id+"-caption"},this.contentWrapper),t.className&&this.captionElement.classList.add(...t.className.split(/\s+/g)))}renderDescription(){let t=this.options?.description;t?.text&&(this.descriptionElement=h("div",{innerText:t.text,className:r.classNames.descriptionElement,id:this.id+"-description"},this.contentWrapper),t.className&&this.descriptionElement.classList.add(...t.className.split(/\s+/g)))}renderViewport(){let t=this.viewport,s=t?.getStateMeta();this.enabledColumns=this.getEnabledColumnIDs(),this.credits?.destroy(),t?.destroy(),this.contentWrapper&&(this.contentWrapper.innerHTML=e.emptyHTML),this.renderCaption(),this.enabledColumns.length>0?(this.renderTable(),t=this.viewport,s&&t&&t.applyStateMeta(s)):this.renderNoData(),this.renderDescription(),this.options?.credits?.enabled&&(this.credits=new i(this)),this.accessibility?.initTableA11yAttrs(),t?.virtualRows&&t?.reflow()}renderTable(){this.tableElement=h("table",{className:r.classNames.tableElement},this.contentWrapper),this.viewport=new l(this,this.tableElement)}renderNoData(){h("div",{className:r.classNames.noData,innerText:this.options?.lang?.noData},this.contentWrapper)}getEnabledColumnIDs(){let t;let{columnOptionsMap:e}=this,i=this.options?.header,s=this.getColumnIds(i||[],!1),o=this.options?.rendering?.columns?.included||(s&&s.length>0?s:this.dataTable?.getColumnNames());if(!o?.length)return[];if(!e)return o;let n=[];for(let i=0,s=o.length;i<s;++i)t=o[i],e?.[t]?.enabled!==!1&&n.push(t);return n}loadDataTable(t){if(t?.id){this.dataTable=t,this.presentationTable=this.dataTable.modified;return}this.dataTable=this.presentationTable=new n(t)}getColumnIds(t,e=!0){let i=[],{enabledColumns:s}=this;for(let o of t){let t="string"==typeof o?o:o.columnId;t&&(!e||s?.includes(t))&&i.push(t),"string"!=typeof o&&o.columns&&(i=i.concat(this.getColumnIds(o.columns,e)))}return i}destroy(){let t=f.dataGrids.findIndex(t=>t===this);this.viewport?.destroy(),this.container&&(this.container.innerHTML=e.emptyHTML,this.container.classList.remove(r.classNames.container)),Object.keys(this).forEach(t=>{delete this[t]}),f.dataGrids.splice(t,1)}getJSON(){let t=this.viewport?.dataTable.modified.columns;if(!this.enabledColumns||!t)return"{}";for(let e of Object.keys(t))-1===this.enabledColumns.indexOf(e)&&delete t[e];return JSON.stringify(t)}getOptionsJSON(t=!0){let e=t?c(this.userOptions):c(this.options);return e.dataTable?.id&&(e.dataTable={columns:e.dataTable.columns}),JSON.stringify(e)}}return f.dataGrids=[],f}),i(e,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}}),i(e,"Data/DataPool.js",[e["Data/Connectors/DataConnector.js"],e["Data/DataPoolDefaults.js"],e["Core/Utilities.js"]],function(t,e,i){class s{constructor(t=e){t.connectors=t.connectors||[],this.connectors={},this.options=t,this.waiting={}}emit(t){i.fireEvent(this,t.type,t)}getConnector(t){let e=this.connectors[t];if(e)return Promise.resolve(e);let i=this.waiting[t];if(!i){i=this.waiting[t]=[];let e=this.getConnectorOptions(t);if(!e)throw Error(`Connector '${t}' not found.`);this.loadConnector(e).then(e=>{delete this.waiting[t];for(let t=0,s=i.length;t<s;++t)i[t][0](e)}).catch(e=>{delete this.waiting[t];for(let t=0,s=i.length;t<s;++t)i[t][1](e)})}return new Promise((t,e)=>{i.push([t,e])})}getConnectorIds(){let t=this.options.connectors,e=[];for(let i=0,s=t.length;i<s;++i)e.push(t[i].id);return e}getConnectorOptions(t){let e=this.options.connectors;for(let i=0,s=e.length;i<s;++i)if(e[i].id===t)return e[i]}getConnectorTable(t){return this.getConnector(t).then(t=>t.table)}isNewConnector(t){return!this.connectors[t]}loadConnector(e){return new Promise((i,s)=>{this.emit({type:"load",options:e});let o=t.types[e.type];if(!o)throw Error(`Connector type not found. (${e.type})`);new o(e.options).load().then(t=>{this.connectors[e.id]=t,this.emit({type:"afterLoad",options:e}),i(t)}).catch(s)})}on(t,e){return i.addEvent(this,t,e)}setConnectorOptions(t){let e=this.options.connectors,i=this.connectors;this.emit({type:"setConnectorOptions",options:t});for(let i=0,s=e.length;i<s;++i)if(e[i].id===t.id){e.splice(i,1);break}i[t.id]&&(i[t.id].stopPolling(),delete i[t.id]),e.push(t),this.emit({type:"afterSetConnectorOptions",options:t})}}return s.version="1.0.0",s}),i(e,"Accessibility/HighContrastMode.js",[e["Core/Globals.js"]],function(t){let{doc:e,isMS:i,win:s}=t;return{isHighContrastModeActive:function(){let t=/(Edg)/.test(s.navigator.userAgent);if(s.matchMedia&&t)return s.matchMedia("(-ms-high-contrast: active)").matches;if(i&&s.getComputedStyle){let t=e.createElement("div");t.style.backgroundImage="url(data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==)",e.body.appendChild(t);let i=(t.currentStyle||s.getComputedStyle(t)).backgroundImage;return e.body.removeChild(t),"none"===i}return s.matchMedia&&s.matchMedia("(forced-colors: active)").matches},setHighContrastTheme:function(t){t.highContrastModeActive=!0;let e=t.options.accessibility.highContrastTheme;t.update(e,!1);let i=e.colors?.length>1;t.series.forEach(function(t){let s=e.plotOptions[t.type]||{},o=i&&void 0!==t.colorIndex?e.colors[t.colorIndex]:s.color||"window",n={color:s.color||"windowText",colors:i?e.colors:[s.color||"windowText"],borderColor:s.borderColor||"window",fillColor:o};t.update(n,!1),t.points&&t.points.forEach(function(t){t.options&&t.options.color&&t.update({color:s.color||"windowText",borderColor:s.borderColor||"window"},!1)})}),t.redraw()}}}),i(e,"Data/Converters/CSVConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(t,e){let{merge:i}=e;class s extends t{constructor(t){let e=i(s.defaultOptions,t);super(e),this.columns=[],this.headers=[],this.dataTypes=[],this.options=e}export(t,e=this.options){let{useLocalDecimalPoint:i,lineDelimiter:s}=e,o=!1!==this.options.firstRowAsNames,{decimalPoint:n,itemDelimiter:r}=e;n||(n=","!==r&&i?1.1.toLocaleString()[1]:"."),r||(r=","===n?";":",");let l=t.getSortedColumns(e.usePresentationOrder),a=Object.keys(l),d=[],h=a.length,u=[];o&&d.push(a.map(t=>`"${t}"`).join(r));for(let e=0;e<h;e++){let i;let s=a[e],o=l[s],c=o.length,m=t.whatIs(s);m&&(i=m.dataType);for(let t=0;t<c;t++){let s=o[t];if(u[t]||(u[t]=[]),"string"===i?s='"'+s+'"':"number"==typeof s?s=String(s).replace(".",n):"string"==typeof s&&(s=`"${s}"`),u[t][e]=s,e===h-1){let i=e;for(;u[t].length>2&&void 0===u[t][i];)u[t].pop(),i--;d.push(u[t].join(r))}}}return d.join(s)}parse(t,e){let s=this.dataTypes,o=i(this.options,t),{beforeParse:n,lineDelimiter:r,firstRowAsNames:l,itemDelimiter:a}=o,d,h=0,{csv:u,startRow:c,endRow:m}=o,f;if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers}),u&&n&&(u=n(u)),u){if(d=u.replace(/\r\n|\r/g,"\n").split(r||"\n"),(!c||c<0)&&(c=0),(!m||m>=d.length)&&(m=d.length-1),a||(this.guessedItemDelimiter=this.guessDelimiter(d)),l){let t=d[0].split(a||this.guessedItemDelimiter||",");for(let e=0;e<t.length;e++)t[e]=t[e].trim().replace(/^["']|["']$/g,"");this.headers=t,c++}let t=0;for(h=c;h<=m;h++)"#"===d[h][0]?t++:this.parseCSVRow(d[h],h-c-t);s.length&&s[0].length&&"date"===s[0][1]&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let t=0,e=this.columns.length;t<e;++t){f=this.columns[t];for(let e=0,i=f.length;e<i;++e)if(f[e]&&"string"==typeof f[e]){let i=this.asGuessedType(f[e]);i instanceof Date&&(i=i.getTime()),this.columns[t][e]=i}}}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.headers})}parseCSVRow(t,e){let i=this,s=i.columns||[],o=i.dataTypes,{startColumn:n,endColumn:r}=i.options,l=i.options.itemDelimiter||i.guessedItemDelimiter,{decimalPoint:a}=i.options;a&&a!==l||(a=i.guessedDecimalPoint||".");let d=0,h="",u="",c=0,m=0,f=e=>{h=t[e]},p=t=>{o.length<m+1&&o.push([t]),o[m][o[m].length-1]!==t&&o[m].push(t)},g=()=>{if(n>c||c>r){++c,u="";return}if("string"==typeof u?!isNaN(parseFloat(u))&&isFinite(u)?(u=parseFloat(u),p("number")):isNaN(Date.parse(u))?p("string"):(u=u.replace(/\//g,"-"),p("date")):p("number"),s.length<m+1&&s.push([]),"number"!=typeof u&&"number"!==i.guessType(u)&&a){let t=u;u=u.replace(a,"."),"number"!==i.guessType(u)&&(u=t)}s[m][e]=u,u="",++m,++c};if(t.trim().length&&"#"!==t.trim()[0]){for(;d<t.length;d++){if(f(d),"#"===h&&!/^#[A-F\d]{3,3}|[A-F\d]{6,6}/i.test(t.substring(d))){g();return}if('"'===h)for(f(++d);d<t.length&&'"'!==h;)u+=h,f(++d);else h===l?g():u+=h}g()}}guessDelimiter(t){let e=0,i=0,s,o={",":0,";":0,"	":0},n=t.length;for(let s=0;s<n;s++){let n=!1,r,l,a,d="";if(s>13)break;let h=t[s];for(let t=0;t<h.length&&(r=h[t],l=h[t+1],a=h[t-1],"#"!==r);t++){if('"'===r){if(n){if('"'!==a&&'"'!==l){for(;" "===l&&t<h.length;)l=h[++t];void 0!==o[l]&&o[l]++,n=!1}}else n=!0}else void 0!==o[r]?(isNaN(Date.parse(d=d.trim()))?(isNaN(Number(d))||!isFinite(Number(d)))&&o[r]++:o[r]++,d=""):d+=r;","===r&&i++,"."===r&&e++}}return o[";"]>o[","]?s=";":(o[","],o[";"],s=","),e>i?this.guessedDecimalPoint=".":this.guessedDecimalPoint=",",s}getTable(){return t.getTableFromColumns(this.columns,this.headers)}}return s.defaultOptions={...t.defaultOptions,lineDelimiter:"\n"},s}),i(e,"Data/Connectors/CSVConnector.js",[e["Data/Converters/CSVConverter.js"],e["Data/Connectors/DataConnector.js"],e["Core/Utilities.js"]],function(t,e,i){let{merge:s}=i;class o extends e{constructor(e){let i=s(o.defaultOptions,e);super(i),this.converter=new t(i),this.options=i,i.enablePolling&&this.startPolling(1e3*Math.max(i.dataRefreshRate||0,1))}load(t){let e=this,i=e.converter,s=e.table,{csv:o,csvURL:n,dataModifier:r}=e.options;return e.emit({type:"load",csv:o,detail:t,table:s}),Promise.resolve(n?fetch(n).then(t=>t.text()):o||"").then(t=>(t&&(s.deleteColumns(),i.parse({csv:t}),s.setColumns(i.getTable().getColumns())),e.setModifierOptions(r).then(()=>t))).then(i=>(e.emit({type:"afterLoad",csv:i,detail:t,table:s}),e)).catch(i=>{throw e.emit({type:"loadError",detail:t,error:i,table:s}),i})}}return o.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1,firstRowAsNames:!0},e.registerType("CSV",o),o}),i(e,"Data/Converters/GoogleSheetsConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(t,e){let{merge:i,uniqueKey:s}=e;class o extends t{constructor(t){let e=i(o.defaultOptions,t);super(e),this.columns=[],this.header=[],this.options=e}parse(t,e){let o;let n=i(this.options,t),r=(n.json?.values||[]).map(t=>t.slice());if(0===r.length)return!1;this.header=[],this.columns=[],this.emit({type:"parse",columns:this.columns,detail:e,headers:this.header});let{beforeParse:l,json:a}=n;l&&a&&(r=l(a.values)),this.columns=r;for(let t=0,e=r.length;t<e;t++){o=r[t],this.header[t]=n.firstRowAsNames?`${o.shift()}`:s();for(let e=0,i=o.length;e<i;++e)if(o[e]&&"string"==typeof o[e]){let i=this.asGuessedType(o[e]);i instanceof Date&&(i=i.getTime()),this.columns[t][e]=i}}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.header})}getTable(){return t.getTableFromColumns(this.columns,this.header)}}return o.defaultOptions={...t.defaultOptions},o}),i(e,"Data/Connectors/GoogleSheetsConnector.js",[e["Data/Connectors/DataConnector.js"],e["Data/Converters/GoogleSheetsConverter.js"],e["Core/Utilities.js"]],function(t,e,i){let{merge:s,pick:o}=i;class n extends t{constructor(t){let i=s(n.defaultOptions,t);super(i),this.converter=new e(i),this.options=i}load(t){let e=this,i=e.converter,s=e.table,{dataModifier:o,dataRefreshRate:r,enablePolling:l,firstRowAsNames:a,googleAPIKey:d,googleSpreadsheetKey:h}=e.options,u=n.buildFetchURL(d,h,e.options);if(e.emit({type:"load",detail:t,table:s,url:u}),!URL.canParse(u))throw Error("Invalid URL: "+u);return fetch(u).then(t=>t.json()).then(t=>{if("object"==typeof t&&t&&"object"==typeof t.error&&t.error&&"number"==typeof t.error.code&&"string"==typeof t.error.message&&"string"==typeof t.error.status)throw Error(t.error.message);return i.parse({firstRowAsNames:a,json:t}),s.deleteColumns(),s.setColumns(i.getTable().getColumns()),e.setModifierOptions(o)}).then(()=>(e.emit({type:"afterLoad",detail:t,table:s,url:u}),l&&setTimeout(()=>e.load(),1e3*Math.max(r||0,1)),e)).catch(i=>{throw e.emit({type:"loadError",detail:t,error:i,table:s}),i})}}return n.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0},function(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function i(t={}){let{endColumn:s,endRow:n,googleSpreadsheetRange:r,startColumn:l,startRow:a}=t;return r||(e[l||0]||"A")+(Math.max(a||0,0)+1)+":"+(e[o(s,25)]||"Z")+(n?Math.max(n,0):"Z")}t.buildFetchURL=function(t,e,s={}){let o=new URL(`https://sheets.googleapis.com/v4/spreadsheets/${e}/values/`),n=s.onlyColumnNames?"A1:Z1":i(s);o.pathname+=n;let r=o.searchParams;return r.set("alt","json"),s.onlyColumnNames||(r.set("dateTimeRenderOption","FORMATTED_STRING"),r.set("majorDimension","COLUMNS"),r.set("valueRenderOption","UNFORMATTED_VALUE")),r.set("prettyPrint","false"),r.set("key",t),o.href},t.buildQueryRange=i}(n||(n={})),t.registerType("GoogleSheets",n),n}),i(e,"Data/Converters/HTMLTableConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(t,e){let{merge:i}=e;class s extends t{constructor(t){let e=i(s.defaultOptions,t);super(e),this.columns=[],this.headers=[],this.options=e,e.tableElement&&(this.tableElement=e.tableElement,this.tableElementID=e.tableElement.id)}export(t,e=this.options){let i=!1!==e.firstRowAsNames,s=e.useMultiLevelHeaders,o=t.getSortedColumns(e.usePresentationOrder),n=Object.keys(o),r=[],l=n.length,a=[],d="";if(i){let t=[];if(s){for(let e of n){let i=(o[e].shift()||"").toString();t.push(i)}d=this.getTableHeaderHTML(n,t,e)}else d=this.getTableHeaderHTML(void 0,n,e)}for(let t=0;t<l;t++){let e=o[n[t]],i=e.length;for(let s=0;s<i;s++){let i=e[s];a[s]||(a[s]=[]),"string"==typeof i||"number"==typeof i||void 0===i||(i=(i||"").toString()),a[s][t]=this.getCellHTMLFromValue(t?"td":"th",null,t?"":'scope="row"',i),t===l-1&&r.push("<tr>"+a[s].join("")+"</tr>")}}let h="";return e.tableCaption&&(h='<caption class="highcharts-table-caption">'+e.tableCaption+"</caption>"),"<table>"+h+d+"<tbody>"+r.join("")+"</tbody></table>"}getCellHTMLFromValue(t,e,i,s,o){let n=s,r="text"+(e?" "+e:"");return"number"==typeof n?(n=n.toString(),","===o&&(n=n.replace(".",o)),r="number"):s||(n="",r="empty"),"<"+t+(i?" "+i:"")+' class="'+r+'">'+n+"</"+t+">"}getTableHeaderHTML(t=[],e=[],i=this.options){let{useMultiLevelHeaders:s,useRowspanHeaders:o}=i,n="<thead>",r=0,l=e&&e.length,a,d=0,h;if(s&&t&&e&&!function(t,e){let i=t.length;if(e.length!==i)return!1;for(;--i;)if(t[i]!==e[i])return!1;return!0}(t,e)){for(n+="<tr>";r<l;++r)(a=t[r])===t[r+1]?++d:d?(n+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(d+1)+'"',a),d=0):(a===e[r]?o?(h=2,delete e[r]):(h=1,e[r]=""):h=1,n+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(h>1?' valign="top" rowspan="'+h+'"':""),a));n+="</tr>"}if(e){for(n+="<tr>",r=0,l=e.length;r<l;++r)void 0!==e[r]&&(n+=this.getCellHTMLFromValue("th",null,'scope="col"',e[r]));n+="</tr>"}return n+"</thead>"}parse(t,e){let s=[],o=[],n=i(this.options,t),{endRow:r,startColumn:l,endColumn:a,firstRowAsNames:d}=n,h=n.tableElement||this.tableElement;if(!(h instanceof HTMLElement)){this.emit({type:"parseError",columns:s,detail:e,headers:o,error:"Not a valid HTML Table"});return}this.tableElement=h,this.tableElementID=h.id,this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers});let u=h.getElementsByTagName("tr"),c=u.length,m=0,f,{startRow:p}=n;if(d&&c){let t=u[0].children,e=t.length;for(let i=l;i<e&&!(i>a);i++)("TD"===(f=t[i]).tagName||"TH"===f.tagName)&&o.push(f.innerHTML);p++}for(;m<c;){if(m>=p&&m<=r){let t=u[m].children,e=t.length,i=0;for(;i<e;){let e=i-l,o=s[e];if(("TD"===(f=t[i]).tagName||"TH"===f.tagName)&&i>=l&&i<=a){s[e]||(s[e]=[]);let t=this.asGuessedType(f.innerHTML);t instanceof Date&&(t=t.getTime()),s[e][m-p]=t;let i=1;for(;m-p>=i&&void 0===o[m-p-i];)o[m-p-i]=null,i++}i++}}m++}this.columns=s,this.headers=o,this.emit({type:"afterParse",columns:s,detail:e,headers:o})}getTable(){return t.getTableFromColumns(this.columns,this.headers)}}return s.defaultOptions={...t.defaultOptions,useRowspanHeaders:!0,useMultiLevelHeaders:!0},s}),i(e,"Data/Connectors/HTMLTableConnector.js",[e["Data/Connectors/DataConnector.js"],e["Core/Globals.js"],e["Data/Converters/HTMLTableConverter.js"],e["Core/Utilities.js"]],function(t,e,i,s){let{win:o}=e,{merge:n}=s;class r extends t{constructor(t){let e=n(r.defaultOptions,t);super(e),this.converter=new i(e),this.options=e}load(t){let e;let i=this,s=i.converter,r=i.table,{dataModifier:l,table:a}=i.options;if(i.emit({type:"load",detail:t,table:r,tableElement:i.tableElement}),"string"==typeof a?(i.tableID=a,e=o.document.getElementById(a)):(e=a,i.tableID=e.id),i.tableElement=e||void 0,!i.tableElement){let e="HTML table not provided, or element with ID not found";return i.emit({type:"loadError",detail:t,error:e,table:r}),Promise.reject(Error(e))}return s.parse(n({tableElement:i.tableElement},i.options),t),r.deleteColumns(),r.setColumns(s.getTable().getColumns()),i.setModifierOptions(l).then(()=>(i.emit({type:"afterLoad",detail:t,table:r,tableElement:i.tableElement}),i))}}return r.defaultOptions={table:""},t.registerType("HTMLTable",r),r}),i(e,"Data/Converters/JSONConverter.js",[e["Data/Converters/DataConverter.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],function(t,e,i){let{error:s,isArray:o,merge:n,objectEach:r}=i;class l extends t{constructor(t){let i=n(l.defaultOptions,t);super(i),this.columns=[],this.headers=[],this.options=i,this.table=new e}parse(t,e){let{beforeParse:i,orientation:l,firstRowAsNames:a,columnNames:d}=t=n(this.options,t),h=t.data;if(h){if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers}),i&&(h=i(h)),h=h.slice(),"columns"===l)for(let t=0,e=h.length;t<e;t++){let e=h[t];if(!(e instanceof Array))return;this.headers instanceof Array?(a?this.headers.push(`${e.shift()}`):d&&d instanceof Array&&this.headers.push(d[t]),this.table.setColumn(this.headers[t]||t.toString(),e)):s("JSONConverter: Invalid `columnNames` option.",!1)}else if("rows"===l){a?this.headers=h.shift():d&&(this.headers=d);for(let t=0,e=h.length;t<e;t++){let e=h[t];if(o(e))for(let t=0,i=e.length;t<i;t++)this.columns.length<t+1&&this.columns.push([]),this.columns[t].push(e[t]),this.headers instanceof Array?this.table.setColumn(this.headers[t]||t.toString(),this.columns[t]):s("JSONConverter: Invalid `columnNames` option.",!1);else{let i=this.headers;if(i&&!(i instanceof Array)){let t={};r(i,(i,s)=>{t[s]=i.reduce((t,e)=>t[e],e)}),e=t}this.table.setRows([e],t)}}}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.headers})}}getTable(){return this.table}}return l.defaultOptions={...t.defaultOptions,data:[],orientation:"rows"},l}),i(e,"Data/Connectors/JSONConnector.js",[e["Data/Connectors/DataConnector.js"],e["Core/Utilities.js"],e["Data/Converters/JSONConverter.js"]],function(t,e,i){let{merge:s}=e;class o extends t{constructor(t){let e=s(o.defaultOptions,t);super(e),this.converter=new i(e),this.options=e,e.enablePolling&&this.startPolling(1e3*Math.max(e.dataRefreshRate||0,1))}load(t){let e=this,i=e.converter,s=e.table,{data:o,dataUrl:n,dataModifier:r}=e.options;return e.emit({type:"load",data:o,detail:t,table:s}),Promise.resolve(n?fetch(n).then(t=>t.json()):o||[]).then(t=>(t&&(s.deleteColumns(),i.parse({data:t}),s.setColumns(i.getTable().getColumns())),e.setModifierOptions(r).then(()=>t))).then(i=>(e.emit({type:"afterLoad",data:i,detail:t,table:s}),e)).catch(i=>{throw e.emit({type:"loadError",detail:t,error:i,table:s}),i})}}return o.defaultOptions={data:[],enablePolling:!1,dataRefreshRate:0,firstRowAsNames:!0,orientation:"rows"},t.registerType("JSON",o),o}),i(e,"Data/Modifiers/InvertModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(t,e){let{merge:i}=e;class s extends t{constructor(t){super(),this.options=i(s.defaultOptions,t)}modifyCell(t,e,i,s,o){let n=t.modified,r=n.getRowIndexBy("columnNames",e);return void 0===r?n.setColumns(this.modifyTable(t.clone()).getColumns(),void 0,o):n.setCell(`${i}`,r,s,o),t}modifyColumns(t,e,i,s){let o=t.modified,n=o.getColumn("columnNames")||[],r=t.getColumnNames(),l=t.getRowCount()!==n.length;if(!l){for(let t=0,e=r.length;t<e;++t)if(r[t]!==n[t]){l=!0;break}}if(l)return this.modifyTable(t,s);r=Object.keys(e);for(let t=0,n=r.length,l,a,d;t<n;++t){l=e[a=r[t]],d=o.getRowIndexBy("columnNames",a)||o.getRowCount();for(let t=0,e=i,n=l.length;t<n;++t,++e)o.setCell(`${e}`,d,l[t],s)}return t}modifyRows(t,e,i,s){let o=t.getColumnNames(),n=t.modified,r=n.getColumn("columnNames")||[],l=t.getRowCount()!==r.length;if(!l){for(let t=0,e=o.length;t<e;++t)if(o[t]!==r[t]){l=!0;break}}if(l)return this.modifyTable(t,s);for(let t=0,r=i,l=e.length,a;t<l;++t,++r)if((a=e[t])instanceof Array)n.setColumn(`${r}`,a);else for(let t=0,e=o.length;t<e;++t)n.setCell(`${r}`,t,a[o[t]],s);return t}modifyTable(t,e){this.emit({type:"modify",detail:e,table:t});let i=t.modified;if(t.hasColumns(["columnNames"])){let e=((t.deleteColumns(["columnNames"])||{}).columnNames||[]).map(t=>`${t}`),s={};for(let i=0,o=t.getRowCount(),n;i<o;++i)(n=t.getRow(i))&&(s[e[i]]=n);i.deleteColumns(),i.setColumns(s)}else{let e={};for(let i=0,s=t.getRowCount(),o;i<s;++i)(o=t.getRow(i))&&(e[`${i}`]=o);e.columnNames=t.getColumnNames(),i.deleteColumns(),i.setColumns(e)}return this.emit({type:"afterModify",detail:e,table:t}),t}}return s.defaultOptions={type:"Invert"},t.registerType("Invert",s),s}),i(e,"Data/Modifiers/RangeModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(t,e){let{merge:i}=e;class s extends t{constructor(t){super(),this.options=i(s.defaultOptions,t)}modifyTable(t,e){this.emit({type:"modify",detail:e,table:t});let i=[],{additive:s,ranges:o,strict:n}=this.options;if(o.length){let e=t.modified,r=t.getColumns(),l=[];for(let a=0,d=o.length,h,u;a<d;++a)if(h=o[a],!n||typeof h.minValue==typeof h.maxValue){a>0&&!s&&(e.deleteRows(),e.setRows(l),e.setOriginalRowIndexes(i,!0),r=e.getColumns(),l=[],i=[]),u=r[h.column]||[];for(let o=0,r=u.length,a,d,c;o<r;++o){switch(typeof(a=u[o])){default:continue;case"boolean":case"number":case"string":}(!n||typeof a==typeof h.minValue)&&a>=h.minValue&&a<=h.maxValue&&(s?(d=t.getRow(o),c=t.getOriginalRowIndex(o)):(d=e.getRow(o),c=e.getOriginalRowIndex(o)),d&&(l.push(d),i.push(c)))}}e.deleteRows(),e.setRows(l),e.setOriginalRowIndexes(i)}return this.emit({type:"afterModify",detail:e,table:t}),t}}return s.defaultOptions={type:"Range",ranges:[]},t.registerType("Range",s),s}),i(e,"masters/datagrid.src.js",[e["Core/Renderer/HTML/AST.js"],e["Data/Connectors/DataConnector.js"],e["Data/Converters/DataConverter.js"],e["Data/DataCursor.js"],e["DataGrid/DataGrid.js"],e["Data/Modifiers/DataModifier.js"],e["Data/DataPool.js"],e["Data/DataTable.js"],e["DataGrid/Defaults.js"],e["DataGrid/Globals.js"],e["Accessibility/HighContrastMode.js"]],function(t,e,i,s,o,n,r,l,a,d,h){return d.AST=t,d.DataConnector=e,d.DataCursor=s,d.DataConverter=i,d.DataGrid=o,d.dataGrid=o.dataGrid,d.dataGrids=o.dataGrids,d.DataModifier=n,d.DataPool=r,d.DataTable=l,d.defaultOptions=a.defaultOptions,d.setOptions=a.setOptions,d.isHighContrastModeActive=h.isHighContrastModeActive,d.win.DataGrid||(d.win.DataGrid=d),d}),e["masters/datagrid.src.js"]._modules=e,e["masters/datagrid.src.js"]});